<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightning Ledgerz - Budget. Save. Build.</title>
    <meta name="description" content="Premium FP&A advisory services. Budget vs actual reporting, financial modeling, and executive dashboards delivered at lightning speed.">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.47.10/dist/umd/supabase.min.js"></script>
    <script>
        if (typeof window.supabase !== 'undefined') {
            console.log('Supabase library loaded successfully!');
        } else {
            console.error('ERROR: Supabase library failed to load!');
        }
    </script>

    <!-- Calendly Widget -->
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>

    <style>
        :root {
            --red: #ff3333;
            --red-dark: #cc0000;
            --red-light: #ff6666;
            --gold: #ffd700;
            --gold-light: #ffed4e;
            --diamond: #ffffff;
            --black: #000000;
            --gray-dark: #1a1a1a;
            --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            /* SaaS Colors */
            --saas-blue: #3B82F6;
            --saas-blue-dark: #2563EB;
            --saas-navy: #0B1220;
            --saas-bg: #F8FAFC;
            --saas-card: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-primary);
            background: var(--saas-bg);
            color: #1a1a2e;
            overflow-x: hidden;
        }

        /* ============================================
           VIDEO BACKGROUND
        ============================================ */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -2;
            overflow: hidden;
            background: #000;
        }

        .video-background iframe {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 177.77vh;
            height: 100vh;
            min-width: 100vw;
            min-height: 56.25vw;
            pointer-events: none;
            border: none;
        }

        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(ellipse 80% 70% at 50% 45%,
                rgba(0, 0, 0, 0.8) 0%,
                rgba(0, 0, 0, 0.6) 35%,
                rgba(0, 0, 0, 0.3) 60%,
                transparent 100%);
            z-index: 0;
            pointer-events: none;
        }

        .video-section {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            background: #000;
        }

        .video-section iframe {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 177.77vh;
            height: 100vh;
            min-width: 100vw;
            min-height: 56.25vw;
            pointer-events: none;
            border: none;
        }

        .video-section .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }

        .video-section .video-content {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            text-align: center;
            padding: 20px;
            color: #fff;
        }

        /* Hide package sidebar for clean SaaS design */
        .package-sidebar {
            display: none;
        }

        /* Hide old hero section */
        .hero {
            display: none;
        }

        /* ============================================
           NAVIGATION - Transparent initially, White on scroll
        ============================================ */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: transparent;
            padding: 0.8rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        nav.nav-scrolled {
            background: #fff;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .logo {
            cursor: pointer;
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo:hover {
            transform: scale(1.02);
        }

        .logo img {
            height: 52px;
            padding: 3px 5px;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        nav.nav-scrolled .logo img {
            background: rgba(30, 58, 95, 0.9);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            list-style: none;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
            cursor: pointer;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--red);
        }

        /* When nav is scrolled (white background), use dark text */
        nav.nav-scrolled .nav-links a {
            color: #1e3a5f;
            text-shadow: none;
        }

        nav.nav-scrolled .nav-links a:hover,
        nav.nav-scrolled .nav-links a.active {
            color: var(--red);
        }

        .nav-cta {
            background: var(--red);
            color: white;
            border: none;
            padding: 0.6rem 1.3rem;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .nav-cta:hover {
            background: var(--red-dark);
            transform: translateY(-1px);
        }

        .nav-phone {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
            margin-left: 15px;
            cursor: pointer;
        }

        /* Nav Contact Info */
        .nav-contact-info {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-right: 15px;
        }

        .nav-contact-info a {
            color: #fff;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .nav-contact-info a:hover {
            color: var(--red);
        }

        /* When nav is scrolled (white background), use dark text */
        nav.nav-scrolled .nav-contact-info a {
            color: #4B5563;
            text-shadow: none;
        }

        nav.nav-scrolled .nav-contact-info a:hover {
            color: var(--red);
        }

        @media (max-width: 1100px) {
            .nav-contact-info a:last-child {
                display: none; /* Hide email on smaller screens */
            }
        }

        @media (max-width: 900px) {
            .nav-contact-info {
                display: none; /* Hide entire contact section on mobile */
            }
        }

        /* Mobile menu toggle */
        .nav-mobile-toggle {
            display: none;
            background: none;
            border: none;
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
            padding: 10px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            z-index: 1001;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        nav.nav-scrolled .nav-mobile-toggle {
            color: #1e3a5f;
            text-shadow: none;
        }

        /* Mobile phone in nav - hidden on desktop */
        .nav-mobile-phone {
            display: none;
        }

        @media (max-width: 900px) {
            nav {
                position: fixed !important;
                top: 0;
                left: 0;
                right: 0;
                z-index: 10000;
                background: linear-gradient(180deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 70%, transparent 100%);
                box-shadow: none;
            }
            nav.nav-scrolled {
                background: #fff;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            /* Mobile phone number */
            .nav-mobile-phone {
                display: block;
                color: #fff;
                text-decoration: none;
                font-size: 0.95rem;
                font-weight: 600;
            }
            nav.nav-scrolled .nav-mobile-phone {
                color: #1e3a5f;
            }
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.98);
                flex-direction: column;
                padding: 20px;
                gap: 15px;
                border-top: 2px solid var(--red);
                z-index: 9999;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            }
            .nav-links.active {
                display: flex;
            }
            .nav-links li { list-style: none; }
            .nav-links a {
                display: block;
                padding: 15px 10px;
                font-size: 1.2rem;
                touch-action: manipulation;
                color: #fff !important;
            }
            .nav-links a:hover {
                color: var(--saas-blue) !important;
            }
            .nav-cta { display: none; }
            .nav-mobile-toggle { display: block; }
            /* Add padding to body so content isn't hidden under fixed nav */
            body { padding-top: 70px; }
            /* Show Get Started in mobile menu */
            .mobile-only { display: list-item !important; }
            .mobile-cta {
                background: linear-gradient(45deg, var(--red), var(--red-light)) !important;
                color: white !important;
                border-radius: 25px !important;
                text-align: center !important;
                font-weight: 700 !important;
                padding: 15px 20px !important;
                margin-bottom: 10px !important;
            }
            /* Package links in mobile nav */
            .nav-package-divider {
                border-top: 1px solid rgba(255,255,255,0.2);
                margin: 10px 0 !important;
                padding: 0 !important;
            }
            .nav-package-link {
                display: flex !important;
                align-items: center;
                gap: 8px;
                padding: 12px 15px !important;
                border-radius: 8px;
                font-weight: 600 !important;
                font-size: 1rem !important;
            }
            .nav-package-link.basic {
                background: rgba(255, 51, 51, 0.15);
                border: 1px solid var(--red);
                color: var(--red) !important;
            }
            .nav-package-link.gold {
                background: rgba(218, 165, 32, 0.15);
                border: 1px solid var(--gold);
                color: var(--gold) !important;
            }
            .nav-package-link.diamond {
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid #fff;
                color: #fff !important;
            }
        }

        /* Hide mobile-only items on desktop */
        @media (min-width: 901px) {
            .mobile-only {
                display: none !important;
            }
        }

        /* ============================================
           USER WELCOME & PLAN BADGE
        ============================================ */
        .user-welcome {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-left: 15px;
        }

        #nav-welcome-text {
            color: #fff;
            font-size: 0.95rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .plan-badge {
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        .badge-basic {
            background: var(--red);
            color: #fff;
        }

        .badge-gold {
            background: linear-gradient(45deg, var(--gold), var(--gold-light));
            color: #000;
        }

        .badge-diamond {
            background: linear-gradient(45deg, #fff, #e0e0e0);
            color: #000;
        }

        @media (max-width: 900px) {
            .user-welcome {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.95);
                padding: 12px 20px;
                justify-content: center;
                border-bottom: 1px solid var(--red);
                margin-left: 0;
            }
        }

        /* ============================================
           PACKAGE SIDEBAR (Top Right under Nav)
        ============================================ */
        .package-sidebar {
            position: fixed;
            right: 20px;
            top: 70px;
            z-index: 999;
            display: flex;
            flex-direction: column;
            gap: 8px;
            pointer-events: auto;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .package-sidebar.hidden {
            opacity: 0;
            transform: translateY(-20px);
            pointer-events: none;
        }

        .package-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #fff;
            min-width: 140px;
            pointer-events: auto;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            text-decoration: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .package-btn.basic {
            background: rgba(0,0,0,0.3);
            color: #fff;
        }

        .package-btn.basic:hover {
            background: var(--red);
            color: #fff;
            transform: translateX(-5px);
        }

        .package-btn.gold {
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-weight: 700;
        }

        .package-btn.gold:hover {
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            color: #000;
            transform: translateX(-5px);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }

        .package-btn.diamond {
            background: rgba(0,0,0,0.3);
            color: #fff;
        }

        .package-btn.diamond:hover {
            background: #fff;
            color: #000;
            transform: translateX(-5px);
        }

        /* Active/Selected states for sidebar buttons */
        .package-btn.basic.active {
            background: var(--red);
            color: #fff;
        }

        .package-btn.gold.active {
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            color: #000;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }

        .package-btn.diamond.active {
            background: #fff;
            color: #000;
        }

        /* Highlight effect for selected package cards - simulates hover */
        .package-card.highlight {
            transform: translateY(-15px) scale(1.05) !important;
            box-shadow: 0 0 60px rgba(255, 51, 51, 1), 0 0 100px rgba(255, 51, 51, 0.8), 0 20px 50px rgba(255, 51, 51, 0.6), inset 0 0 30px rgba(255, 51, 51, 0.3) !important;
            border-color: var(--red-light) !important;
            z-index: 100 !important;
            position: relative !important;
            animation: pulseHighlight 0.8s ease-in-out infinite !important;
        }

        .package-card.gold.highlight {
            box-shadow: 0 0 60px rgba(255, 215, 0, 1), 0 0 100px rgba(255, 215, 0, 0.8), 0 20px 50px rgba(255, 215, 0, 0.6), inset 0 0 30px rgba(255, 215, 0, 0.3) !important;
            border-color: var(--gold-light) !important;
            animation: pulseHighlightGold 0.8s ease-in-out infinite !important;
        }

        .package-card.diamond.highlight {
            box-shadow: 0 0 60px rgba(0, 212, 255, 1), 0 0 100px rgba(0, 212, 255, 0.8), 0 20px 50px rgba(0, 212, 255, 0.6), inset 0 0 30px rgba(0, 212, 255, 0.3) !important;
            border-color: #00d4ff !important;
            animation: pulseHighlightDiamond 0.8s ease-in-out infinite !important;
        }

        @keyframes pulseHighlight {
            0%, 100% {
                box-shadow: 0 0 60px rgba(255, 51, 51, 1), 0 0 100px rgba(255, 51, 51, 0.8), 0 20px 50px rgba(255, 51, 51, 0.6);
                transform: translateY(-15px) scale(1.05);
            }
            50% {
                box-shadow: 0 0 80px rgba(255, 51, 51, 1), 0 0 120px rgba(255, 51, 51, 0.9), 0 25px 60px rgba(255, 51, 51, 0.7);
                transform: translateY(-18px) scale(1.06);
            }
        }

        @keyframes pulseHighlightGold {
            0%, 100% {
                box-shadow: 0 0 60px rgba(255, 215, 0, 1), 0 0 100px rgba(255, 215, 0, 0.8), 0 20px 50px rgba(255, 215, 0, 0.6);
                transform: translateY(-15px) scale(1.05);
            }
            50% {
                box-shadow: 0 0 80px rgba(255, 215, 0, 1), 0 0 120px rgba(255, 215, 0, 0.9), 0 25px 60px rgba(255, 215, 0, 0.7);
                transform: translateY(-18px) scale(1.06);
            }
        }

        @keyframes pulseHighlightDiamond {
            0%, 100% {
                box-shadow: 0 0 60px rgba(0, 212, 255, 1), 0 0 100px rgba(0, 212, 255, 0.8), 0 20px 50px rgba(0, 212, 255, 0.6);
                transform: translateY(-15px) scale(1.05);
            }
            50% {
                box-shadow: 0 0 80px rgba(0, 212, 255, 1), 0 0 120px rgba(0, 212, 255, 0.9), 0 25px 60px rgba(0, 212, 255, 0.7);
                transform: translateY(-18px) scale(1.06);
            }
        }

        @media (max-width: 768px) {
            .package-sidebar {
                display: none;
            }
        }

        /* ============================================
           HERO SECTION
        ============================================ */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 120px 20px 80px;
            position: relative;
        }

        .hero-logo {
            margin-bottom: 20px;
        }

        .hero-logo img {
            max-width: 280px;
            height: auto;
        }

        @media (max-width: 600px) {
            .hero-logo img {
                max-width: 200px;
            }
        }

        .hero-tagline {
            font-size: 1.3rem;
            color: var(--red);
            font-weight: 700;
            letter-spacing: 3px;
            margin-bottom: 30px;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 700px;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--red), var(--red-light));
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(255, 51, 51, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 51, 51, 0.6);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }

        /* ============================================
           SECTIONS
        ============================================ */
        .section {
            padding: 100px 60px;
            position: relative;
            background: var(--saas-navy);
            color: #fff;
        }

        /* About section - white gradient with navy text */
        section#about {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.92) 0%, rgba(255, 255, 255, 0.88) 100%) !important;
        }

        section#about .section-header h2 {
            color: #1e3a5f !important;
        }

        section#about .about-text h3 {
            color: #1e3a5f !important;
        }

        section#about .about-text p {
            color: #2d4a6f !important;
        }

        section#about .credential-number {
            color: #1e3a5f !important;
            transition: color 0.3s ease;
        }

        section#about .credential-label {
            color: #4a6a8a !important;
            transition: color 0.3s ease;
        }

        section#about .credentials {
            border-top-color: rgba(30, 58, 95, 0.15) !important;
        }

        section#about .credential-item {
            border-right-color: rgba(30, 58, 95, 0.15) !important;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        section#about .credential-item:hover {
            transform: scale(1.1);
        }

        section#about .credential-item:hover .credential-number,
        section#about .credential-item:hover .credential-label {
            color: var(--red) !important;
        }

        section#about .core-values {
            border-top-color: rgba(30, 58, 95, 0.15) !important;
        }

        section#about .value-card {
            border-color: rgba(30, 58, 95, 0.1) !important;
        }

        section#about .value-card p {
            color: #2d4a6f !important;
        }

        @media (max-width: 768px) {
            .section { padding: 60px 20px; }
        }

        .section-dark {
            background: rgba(11, 18, 32, 0.95);
        }

        section#pricing {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.92) 0%, rgba(255, 255, 255, 0.88) 100%) !important;
            color: #1e3a5f;
        }

        section#pricing .section-header h2 {
            color: var(--saas-blue) !important;
        }

        section#pricing .section-header p {
            color: #4B5563 !important;
        }

        /* White background package cards with hover glow */
        section#pricing .package-card {
            background: linear-gradient(135deg, rgba(255, 51, 51, 0.05), rgba(255, 255, 255, 0.98)) !important;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease, transform 0.3s ease !important;
        }

        section#pricing .package-card:hover {
            box-shadow: 0 0 40px rgba(255, 51, 51, 0.5), 0 0 80px rgba(255, 51, 51, 0.3) !important;
            transform: translateY(-8px) !important;
        }

        section#pricing .package-card.gold {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.08), rgba(255, 255, 255, 0.98)) !important;
        }

        section#pricing .package-card.gold:hover {
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.6), 0 0 80px rgba(255, 215, 0, 0.4) !important;
        }

        section#pricing .package-card.gold h3 {
            background: linear-gradient(45deg, #b8860b, #daa520, #b8860b) !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            background-clip: text !important;
        }

        section#pricing .package-card.diamond {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(240, 255, 255, 0.98)) !important;
            border-color: #00d4ff !important;
        }

        section#pricing .package-card.diamond:hover {
            box-shadow: 0 0 40px rgba(0, 212, 255, 0.7), 0 0 80px rgba(0, 212, 255, 0.5) !important;
        }

        section#pricing .package-card.diamond h3 {
            color: #00d4ff !important;
            background: none !important;
            -webkit-text-fill-color: #00d4ff !important;
        }

        section#pricing .package-card h3 {
            color: var(--red) !important;
            background: none !important;
            -webkit-text-fill-color: var(--red) !important;
        }

        section#pricing .package-features li {
            color: #374151 !important;
            border-bottom-color: rgba(0, 0, 0, 0.08) !important;
        }

        section#pricing .package-price {
            color: #1e3a5f !important;
        }

        section#pricing .guarantee-box {
            background: rgba(40, 167, 69, 0.08);
            border-color: #28a745;
        }

        section#pricing .guarantee-box p {
            color: #374151;
        }

        /* Portal section - white gradient */
        section#portal {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.92) 0%, rgba(255, 255, 255, 0.88) 100%) !important;
        }

        section#portal .section-header h2 {
            color: var(--red) !important;
        }

        section#portal .section-header p {
            color: #4B5563 !important;
        }

        /* Schedule section - fisheye gradient and white text */
        .schedule-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse 70% 60% at 50% 50%,
                rgba(0, 0, 0, 0.75) 0%,
                rgba(0, 0, 0, 0.5) 40%,
                rgba(0, 0, 0, 0.2) 70%,
                transparent 100%);
            pointer-events: none;
            z-index: 0;
        }

        section#schedule .section-header p {
            color: #fff !important;
        }

        section#portal .auth-tabs button {
            color: #1e3a5f;
        }

        section#portal .auth-tabs button.active {
            color: var(--red);
            border-bottom-color: var(--red);
        }

        section#portal .maintenance-notice {
            background: rgba(255, 193, 7, 0.15);
            border-color: #ffc107;
        }

        section#portal .maintenance-notice p {
            color: #1e3a5f;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-header h2 {
            font-size: 2.8rem;
            color: var(--red);
            margin-bottom: 15px;
        }

        .section-header p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* ============================================
           SERVICES GRID
        ============================================ */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .service-card {
            background: linear-gradient(135deg, rgba(255, 51, 51, 0.1), rgba(0, 0, 0, 0.8));
            border: 1px solid var(--red);
            border-radius: 20px;
            padding: 40px 30px;
            transition: all 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(255, 51, 51, 0.3);
            border-color: var(--red-light);
        }

        .service-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .service-card h3 {
            color: var(--red);
            font-size: 1.4rem;
            margin-bottom: 15px;
        }

        .service-card p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.7;
        }

        /* ============================================
           PRICING CARDS
        ============================================ */
        .package-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            max-width: 1100px;
            margin: 0 auto;
        }

        .package-card {
            background: linear-gradient(135deg, rgba(255, 51, 51, 0.1), rgba(0, 0, 0, 0.9));
            border: 2px solid var(--red);
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .package-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 0 30px rgba(255, 51, 51, 0.6), 0 20px 50px rgba(255, 51, 51, 0.4);
            border-color: var(--red-light);
        }

        .package-card.gold {
            border-color: var(--gold);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(0, 0, 0, 0.9));
        }

        .package-card.gold:hover {
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.7), 0 20px 50px rgba(255, 215, 0, 0.5);
            border-color: var(--gold-light);
        }

        .package-card.gold h3 {
            background: linear-gradient(45deg, #b8860b, #ffd700, #daa520);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: filter 0.3s ease;
        }

        .package-card.gold:hover h3 {
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.8));
        }

        .package-card.basic:hover h3 {
            filter: drop-shadow(0 0 10px rgba(255, 51, 51, 0.8));
        }

        .package-card.diamond:hover h3 {
            filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.8));
        }

        .package-card.diamond {
            border-color: #00d4ff;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.15), rgba(0, 0, 0, 0.9));
        }

        .package-card.diamond:hover {
            box-shadow: 0 0 40px rgba(0, 212, 255, 0.7), 0 20px 50px rgba(0, 212, 255, 0.5);
            border-color: #33e0ff;
        }

        .package-card.diamond h3 {
            background: linear-gradient(45deg, #00d4ff, #33e0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .package-card h3 {
            color: var(--red);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .package-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--gold);
            background: rgba(255, 215, 0, 0.1);
            padding: 10px 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            display: inline-block;
        }

        .package-features {
            list-style: none;
            text-align: left;
            margin-bottom: 30px;
        }

        .package-features li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            color: rgba(255, 255, 255, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .package-features li:before {
            content: "âš¡";
            position: absolute;
            left: 0;
            color: var(--red);
        }

        .package-card.gold .package-features li:before {
            content: "âœ¨";
            color: var(--gold);
        }

        .package-card.diamond .package-features li:before {
            content: "ðŸ’Ž";
        }

        .package-trial {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            display: inline-block;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .package-popular {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, var(--gold), var(--gold-light));
            color: #000;
            padding: 6px 20px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Ensure package card buttons are clickable */
        .package-card .btn-primary {
            position: relative;
            z-index: 10;
            display: inline-block;
            margin-top: 20px;
            touch-action: manipulation;
            cursor: pointer;
        }

        .guarantee-box {
            max-width: 700px;
            margin: 50px auto 0;
            text-align: center;
            padding: 25px 30px;
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid #28a745;
            border-radius: 15px;
        }

        .guarantee-box p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            margin: 0;
        }

        .guarantee-box strong {
            color: #28a745;
        }

        /* ============================================
           PORTFOLIO / WORK SECTION
        ============================================ */
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .portfolio-item {
            position: relative;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 51, 51, 0.3);
            aspect-ratio: 16/10;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .portfolio-item:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: var(--red);
            box-shadow: 0 0 30px rgba(255, 51, 51, 0.6), 0 15px 40px rgba(255, 51, 51, 0.4);
        }

        .portfolio-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .portfolio-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease, filter 0.3s ease;
        }

        .portfolio-item:hover .portfolio-image img {
            transform: scale(1.08);
            filter: brightness(0.4);
        }

        /* Hover overlay with title and description */
        .portfolio-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 2;
        }

        .portfolio-item:hover .portfolio-overlay {
            opacity: 1;
        }

        /* Mobile: show overlay always since no hover */
        @media (max-width: 768px) {
            .portfolio-overlay {
                opacity: 1;
                background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
                justify-content: flex-end;
                padding-bottom: 25px;
            }
            .portfolio-overlay h4 { font-size: 1rem; }
            .portfolio-overlay p { font-size: 0.8rem; display: none; }
            .portfolio-overlay .click-hint { margin-top: 8px; }
        }

        .portfolio-overlay h4 {
            color: var(--red);
            font-size: 1.3rem;
            font-weight: 700;
            margin: 0 0 10px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .portfolio-overlay p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            line-height: 1.5;
            margin: 0;
            max-width: 90%;
        }

        .portfolio-overlay .click-hint {
            margin-top: 15px;
            color: var(--gold);
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* ============================================
           LIGHTBOX
        ============================================ */
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.97);
            z-index: 100000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 10px;
            cursor: zoom-out;
        }

        .lightbox.active {
            display: flex;
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .lightbox img {
            max-width: 98vw;
            max-height: 96vh;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 0 60px rgba(0, 0, 0, 0.8);
            cursor: default;
        }

        .lightbox-close {
            position: absolute;
            top: 15px;
            right: 25px;
            background: rgba(0, 0, 0, 0.7);
            border: none;
            color: white;
            font-size: 2.5rem;
            cursor: pointer;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100001;
            transition: background 0.2s;
        }

        .lightbox-close:hover {
            background: var(--red);
        }

        /* ============================================
           LEGAL MODALS
        ============================================ */
        .legal-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 100000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .legal-modal.active {
            display: flex;
        }

        .legal-modal-content {
            background: #111;
            border: 1px solid var(--red);
            border-radius: 15px;
            max-width: 700px;
            max-height: 80vh;
            width: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .legal-modal-content h2 {
            color: var(--red);
            padding: 25px 30px;
            margin: 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 1.5rem;
        }

        .legal-modal-body {
            padding: 25px 30px;
            overflow-y: auto;
            color: rgba(255, 255, 255, 0.85);
            font-size: 0.9rem;
            line-height: 1.7;
        }

        .legal-modal-body h3 {
            color: #fff;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .legal-modal-body h3:first-child {
            margin-top: 0;
        }

        .legal-modal-body p {
            margin-bottom: 12px;
        }

        .legal-modal-body ul {
            margin-left: 20px;
            margin-bottom: 12px;
        }

        .legal-modal-body li {
            margin-bottom: 6px;
        }

        .legal-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 1.8rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .legal-modal-close:hover {
            background: rgba(255, 51, 51, 0.3);
        }

        /* ============================================
           ADMIN DASHBOARD MODAL
        ============================================ */
        .admin-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 100000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .admin-modal.active {
            display: flex;
        }

        .admin-modal-content {
            background: #111;
            border: 2px solid var(--red);
            border-radius: 15px;
            max-width: 1000px;
            width: 100%;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .admin-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-modal-header h2 {
            color: var(--red);
            margin: 0;
            font-size: 1.5rem;
        }

        .admin-modal-close {
            background: transparent;
            border: none;
            color: #fff;
            font-size: 1.8rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .admin-modal-close:hover {
            background: rgba(255, 51, 51, 0.3);
        }

        .admin-tabs {
            display: flex;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 0 25px;
        }

        .admin-tab {
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            padding: 15px 25px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .admin-tab:hover {
            color: #fff;
        }

        .admin-tab.active {
            color: var(--red);
            border-bottom-color: var(--red);
        }

        .admin-tab-content {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
        }

        .admin-tab-pane {
            display: none;
        }

        .admin-tab-pane.active {
            display: block;
        }

        .admin-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .admin-section-header h3 {
            color: #fff;
            margin: 0;
            font-size: 1.1rem;
        }

        .btn-refresh {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.7);
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .btn-refresh:hover {
            border-color: var(--red);
            color: var(--red);
        }

        .admin-table-container {
            overflow-x: auto;
            margin-bottom: 20px;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .admin-table th,
        .admin-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-table th {
            color: rgba(255, 255, 255, 0.5);
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.75rem;
        }

        .admin-table td {
            color: #fff;
        }

        .admin-table tr:hover td {
            background: rgba(255, 255, 255, 0.05);
        }

        .loading-row {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .tier-select {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .tier-badge-basic { color: var(--red); }
        .tier-badge-gold { color: var(--gold); }
        .tier-badge-diamond { color: #fff; }

        .admin-form {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
        }

        .admin-form-row {
            margin-bottom: 15px;
        }

        .admin-form-row label {
            display: block;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .admin-form-row input,
        .admin-form-row select {
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 10px 12px;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .admin-form-row input:focus,
        .admin-form-row select:focus {
            outline: none;
            border-color: var(--red);
        }

        .admin-form .btn-primary {
            background: linear-gradient(45deg, var(--red), var(--red-light));
            border: none;
            color: #fff;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .admin-form .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 51, 51, 0.4);
        }

        .btn-delete {
            background: transparent;
            border: 1px solid #ff4444;
            color: #ff4444;
            padding: 4px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s;
        }

        .btn-delete:hover {
            background: rgba(255, 68, 68, 0.2);
        }

        /* ============================================
           CLIENT PORTAL
        ============================================ */
        .portal-card {
            max-width: 500px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--red);
            border-radius: 20px;
            padding: 50px 40px;
        }

        .portal-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .portal-tab {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 2px solid transparent;
        }

        .portal-tab.active {
            color: var(--red);
            border-bottom-color: var(--red);
        }

        .portal-form {
            display: none;
        }

        .portal-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--red);
            background: rgba(255, 51, 51, 0.1);
        }

        .form-submit {
            width: 100%;
            background: linear-gradient(45deg, var(--red), var(--red-light));
            color: white;
            border: none;
            padding: 16px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .form-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 51, 51, 0.5);
        }

        /* Google Sign-In Button */
        .google-btn {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            background: #ffffff;
            color: #333;
            border: none;
            padding: 14px 20px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .google-btn:hover {
            background: #f5f5f5;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .google-btn svg {
            flex-shrink: 0;
        }

        .auth-divider {
            display: flex;
            align-items: center;
            margin: 20px 0;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }

        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.2);
        }

        .auth-divider span {
            padding: 0 15px;
        }

        .form-subtitle {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .form-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin: 20px 0;
        }

        .form-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-top: 2px;
            cursor: pointer;
            accent-color: var(--red);
        }

        .form-checkbox label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .form-link {
            color: var(--red-light);
            text-decoration: underline;
        }

        .form-link:hover {
            color: var(--red);
        }

        .form-submit-green {
            background: linear-gradient(45deg, #2dd4bf, #14b8a6);
        }

        .form-submit-green:hover {
            box-shadow: 0 8px 25px rgba(45, 212, 191, 0.5);
        }

        /* Portal Dashboard (Logged In) - WHITE THEME */
        .portal-dashboard {
            max-width: 1200px;
            margin: 0 auto;
            background: #fff;
            border: 2px solid var(--red);
            border-radius: 20px;
            padding: 40px;
            color: #1e3a5f;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(30, 58, 95, 0.15);
            flex-wrap: wrap;
            gap: 15px;
        }

        .dashboard-header h3 {
            color: var(--red);
            margin: 0;
        }

        /* Trial Banner */
        .trial-banner {
            background: linear-gradient(90deg, #fff3cd, #ffeeba);
            border: 1px solid #ffc107;
            border-radius: 10px;
            padding: 12px 20px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .trial-banner-text {
            color: #856404;
            font-weight: 500;
        }

        .trial-banner-days {
            font-weight: 700;
            color: #d63384;
        }

        .trial-banner-cta {
            background: var(--red);
            color: #fff;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .trial-banner-cta:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(255, 51, 51, 0.3);
        }

        /* 3 Column Layout */
        .dashboard-columns {
            display: grid;
            grid-template-columns: 250px 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        @media (max-width: 1000px) {
            .dashboard-columns {
                grid-template-columns: 1fr 1fr;
            }
            .logo-upload-column {
                grid-column: span 2;
            }
        }

        @media (max-width: 700px) {
            .dashboard-columns {
                grid-template-columns: 1fr;
            }
            .logo-upload-column {
                grid-column: span 1;
            }
        }

        .dashboard-column {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(30, 58, 95, 0.1);
        }

        .column-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--red);
        }

        .column-header h4 {
            color: #1e3a5f;
            margin: 0;
            font-size: 1rem;
        }

        .column-header .icon {
            font-size: 1.3rem;
        }

        /* Logo Upload Column */
        .logo-upload-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .company-logo-preview {
            width: 150px;
            height: 150px;
            border: 2px dashed rgba(30, 58, 95, 0.3);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            background: #fff;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
        }

        .company-logo-preview:hover {
            border-color: var(--red);
            background: rgba(255, 51, 51, 0.05);
        }

        .company-logo-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .company-logo-preview .placeholder {
            color: #aaa;
            font-size: 0.9rem;
        }

        .logo-upload-btn {
            background: var(--saas-blue);
            color: #fff;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logo-upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        /* Column Carousel */
        .column-carousel {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 5px;
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: var(--red) #f0f0f0;
        }

        .column-carousel::-webkit-scrollbar {
            height: 8px;
        }

        .column-carousel::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 4px;
        }

        .column-carousel::-webkit-scrollbar-thumb {
            background: var(--red);
            border-radius: 4px;
        }

        .carousel-card {
            flex: 0 0 180px;
            background: #fff;
            border-radius: 10px;
            padding: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid rgba(30, 58, 95, 0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .carousel-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
            border-color: var(--red);
        }

        .carousel-card-thumbnail {
            width: 100%;
            height: 100px;
            background: #f0f0f0;
            border-radius: 6px;
            margin-bottom: 10px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-card-thumbnail img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

        .carousel-card-thumbnail .file-icon {
            font-size: 2.5rem;
        }

        .carousel-card-title {
            font-weight: 600;
            color: #1e3a5f;
            font-size: 0.85rem;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .carousel-card-date {
            color: #888;
            font-size: 0.75rem;
        }

        .carousel-empty {
            color: #888;
            font-style: italic;
            text-align: center;
            padding: 30px 15px;
            font-size: 0.9rem;
        }

        /* Upload Success Overlay */
        .upload-success-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .upload-success-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .upload-success-modal {
            background: #fff;
            border-radius: 20px;
            padding: 40px 50px;
            text-align: center;
            max-width: 400px;
            transform: scale(0.8);
            transition: transform 0.3s;
        }

        .upload-success-overlay.show .upload-success-modal {
            transform: scale(1);
        }

        .upload-success-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .upload-success-title {
            color: #10B981;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .upload-success-text {
            color: #666;
            margin-bottom: 20px;
        }

        .upload-success-btn {
            background: var(--red);
            color: #fff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-logout {
            background: transparent;
            border: 1px solid rgba(30, 58, 95, 0.3);
            color: #1e3a5f;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-logout:hover {
            border-color: var(--red);
            color: var(--red);
        }

        .demo-tier-selector {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid var(--gold);
            padding: 6px 12px;
            border-radius: 5px;
        }

        .demo-tier-selector label {
            color: var(--gold);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .demo-tier-selector select {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--gold);
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
        }

        .btn-admin {
            background: linear-gradient(45deg, var(--red), var(--red-light));
            border: none;
            color: #fff;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-admin:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 51, 51, 0.4);
        }

        .btn-upgrade {
            background: linear-gradient(45deg, var(--gold), var(--gold-light));
            border: none;
            color: #000;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            animation: goldShine 3s linear infinite;
            background-size: 200% auto;
        }

        .btn-upgrade:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5);
        }

        .upload-section, .deliverables-section {
            margin-bottom: 30px;
        }

        .upload-section h4, .deliverables-section h4 {
            color: #fff;
            margin-bottom: 10px;
        }

        .upload-description {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .upload-dropzone {
            border: 2px dashed rgba(255, 51, 51, 0.5);
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .upload-dropzone:hover, .upload-dropzone.dragover {
            border-color: var(--red);
            background: rgba(255, 51, 51, 0.1);
        }

        .dropzone-icon {
            font-size: 3rem;
            display: block;
            margin-bottom: 10px;
        }

        .dropzone-content p {
            color: rgba(255, 255, 255, 0.8);
            margin: 5px 0;
        }

        .upload-browse {
            color: var(--red);
            cursor: pointer;
            text-decoration: underline;
        }

        .upload-hint {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .uploaded-files {
            margin-top: 20px;
        }

        .uploaded-file {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .uploaded-file-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .uploaded-file-icon {
            font-size: 1.5rem;
        }

        .uploaded-file-name {
            color: #fff;
            font-weight: 500;
        }

        .uploaded-file-size {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }

        .uploaded-file-remove {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            font-size: 1.2rem;
        }

        .uploaded-file-remove:hover {
            color: var(--red);
        }

        .deliverables-empty {
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
            text-align: center;
            padding: 20px;
        }

        .portal-disclaimers {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .portal-disclaimers h5 {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 15px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .portal-disclaimers ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .portal-disclaimers li {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
            line-height: 1.6;
            margin-bottom: 10px;
            padding-left: 15px;
            position: relative;
        }

        .portal-disclaimers li:before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: var(--red);
        }

        .portal-disclaimers li strong {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Dashboard Layout */
        .dashboard-greeting {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .dashboard-logo {
            height: 40px;
            width: auto;
        }

        .dashboard-tier-badge {
            background: linear-gradient(45deg, var(--red), var(--red-light));
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dashboard-section {
            margin-bottom: 35px;
        }

        .section-title {
            margin-bottom: 20px;
        }

        .section-title h4 {
            color: #fff;
            margin-bottom: 5px;
        }

        .section-subtitle {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }

        /* File Cards Grid - Visual Document Display */
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .file-card {
            background: linear-gradient(145deg, rgba(30, 30, 30, 0.9), rgba(20, 20, 20, 0.95));
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 0;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            position: relative;
        }

        .file-card:hover {
            border-color: var(--red);
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(255, 51, 51, 0.3);
        }

        .file-card:hover .file-overlay {
            opacity: 1;
        }

        .file-thumbnail {
            width: 100%;
            height: 160px;
            background: linear-gradient(135deg, rgba(255, 51, 51, 0.1), rgba(0, 0, 0, 0.5));
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .file-thumbnail img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

        .file-thumbnail .file-icon {
            font-size: 4rem;
            opacity: 0.9;
        }

        .file-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            padding: 15px;
        }

        .file-overlay .file-date {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .file-info {
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
        }

        .file-name {
            color: #fff;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .file-date {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }

        .file-download {
            display: inline-block;
            padding: 8px 16px;
            background: var(--red);
            color: #fff;
            font-size: 0.85rem;
            font-weight: 500;
            text-decoration: none;
            border-radius: 6px;
            margin-bottom: 8px;
            transition: all 0.2s;
        }

        .file-download:hover {
            background: var(--red-light);
            transform: scale(1.05);
        }

        .file-delete {
            display: inline-block;
            padding: 6px 12px;
            background: transparent;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            text-decoration: none;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .file-delete:hover {
            background: rgba(255, 0, 0, 0.3);
            border-color: #ff4444;
            color: #fff;
        }

        .file-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .file-delete {
            background: transparent;
            border: 1px solid rgba(255, 100, 100, 0.5);
            color: #ff6666;
            font-size: 0.75rem;
            padding: 4px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .file-delete:hover {
            background: rgba(255, 100, 100, 0.2);
            border-color: #ff6666;
        }

        .empty-state {
            color: rgba(255, 255, 255, 0.4);
            font-style: italic;
            text-align: center;
            padding: 30px;
            grid-column: 1 / -1;
        }

        /* Tier Theming - Gold */
        .portal-dashboard.tier-gold {
            border-color: var(--gold);
        }

        .portal-dashboard.tier-gold .dashboard-header h3 {
            background: linear-gradient(45deg, var(--gold), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .portal-dashboard.tier-gold .dashboard-tier-badge {
            background: linear-gradient(45deg, var(--gold), var(--gold-light));
            color: #000;
        }

        .portal-dashboard.tier-gold .upload-dropzone {
            border-color: rgba(255, 215, 0, 0.5);
        }

        .portal-dashboard.tier-gold .upload-dropzone:hover {
            border-color: var(--gold);
            background: rgba(255, 215, 0, 0.1);
        }

        .portal-dashboard.tier-gold .upload-browse {
            color: var(--gold);
        }

        .portal-dashboard.tier-gold .file-card:hover {
            border-color: var(--gold);
        }

        .portal-dashboard.tier-gold .file-download {
            color: var(--gold);
        }

        .portal-dashboard.tier-gold .btn-logout:hover {
            border-color: var(--gold);
            color: var(--gold);
        }

        /* Tier Theming - Diamond */
        .portal-dashboard.tier-diamond {
            border-color: #fff;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(0, 0, 0, 0.95));
        }

        .portal-dashboard.tier-diamond .dashboard-header h3 {
            background: linear-gradient(45deg, #fff, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .portal-dashboard.tier-diamond .dashboard-tier-badge {
            background: linear-gradient(45deg, #fff, #e0e0e0);
            color: #000;
        }

        .portal-dashboard.tier-diamond .upload-dropzone {
            border-color: rgba(255, 255, 255, 0.5);
        }

        .portal-dashboard.tier-diamond .upload-dropzone:hover {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .portal-dashboard.tier-diamond .upload-browse {
            color: #fff;
        }

        .portal-dashboard.tier-diamond .file-card:hover {
            border-color: #fff;
        }

        .portal-dashboard.tier-diamond .file-download {
            color: #fff;
        }

        .portal-dashboard.tier-diamond .btn-logout:hover {
            border-color: #fff;
            color: #fff;
        }

        /* ============================================
           ABOUT SECTION
        ============================================ */
        .about-content {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 60px;
            align-items: center;
        }

        .about-content.about-three-col {
            max-width: 1200px;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 40px;
        }

        @media (max-width: 900px) {
            .about-content.about-three-col {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .about-image-right {
                order: -1;
            }
        }

        @media (max-width: 768px) {
            .about-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }

        .about-image img {
            max-width: 300px;
            border-radius: 15px;
            border: 3px solid var(--red);
        }

        .about-image-right img {
            max-width: 300px;
            border-radius: 15px;
            border: 3px solid var(--red);
        }

        .about-text h3 {
            color: var(--red);
            font-size: 1.8rem;
            margin-bottom: 20px;
        }

        .about-text p {
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .credentials {
            display: flex;
            gap: 25px;
            margin-top: 30px;
            flex-wrap: wrap;
            justify-content: flex-start;
        }

        @media (max-width: 768px) {
            .credentials { justify-content: center; gap: 15px; }
            .credential-item { min-width: 100px; }
        }

        .credential-item {
            text-align: center;
        }

        .credential-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--red);
            white-space: nowrap;
        }

        .credential-label {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .credential-item {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .credential-item:hover {
            transform: scale(1.1);
        }

        .credential-item:hover .credential-number,
        .credential-item:hover .credential-label {
            color: var(--red) !important;
        }

        /* Core Values */
        .core-values {
            max-width: 1000px;
            margin: 60px auto 0;
            padding-top: 40px;
            border-top: 1px solid rgba(30, 58, 95, 0.15);
        }

        .values-title {
            text-align: center;
            color: var(--red);
            font-size: 1.8rem;
            margin-bottom: 30px;
        }

        .values-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0;
        }

        @media (max-width: 768px) {
            .values-grid {
                grid-template-columns: 1fr;
            }
            /* Reorder on mobile for alternating colors */
            .value-efficiency { order: 1; }
            .value-adventure { order: 2; }
            .value-quality { order: 3; }
            .value-honesty { order: 4; }
        }

        .value-card {
            padding: 35px 30px;
            border: 1px solid rgba(30, 58, 95, 0.1);
        }

        .value-card h4 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .value-card p {
            color: #2d4a6f;
            line-height: 1.7;
            font-size: 0.95rem;
        }

        /* Efficiency - Red */
        /* Efficiency - Red */
        .value-efficiency {
            background: rgba(255, 255, 255, 0.95);
            border-left: 4px solid var(--red);
        }
        .value-efficiency h4 { color: var(--red); }

        /* Adventure - Navy Blue */
        .value-adventure {
            background: rgba(255, 255, 255, 0.95);
            border-left: 4px solid #1e3a5f;
        }
        .value-adventure h4 { color: #1e3a5f; }

        /* Honesty - Navy Blue */
        .value-honesty {
            background: rgba(255, 255, 255, 0.95);
            border-left: 4px solid #1e3a5f;
        }
        .value-honesty h4 { color: #1e3a5f; }

        /* Quality - McKinsey Blue */
        .value-quality {
            background: rgba(255, 255, 255, 0.95);
            border-left: 4px solid #0073CF;
        }
        .value-quality h4 { color: #0073CF; }

        /* ============================================
           FOOTER
        ============================================ */
        footer {
            background: rgba(0, 0, 0, 0.95);
            padding: 40px 60px;
            text-align: center;
            border-top: 1px solid rgba(255, 51, 51, 0.3);
        }

        .footer-logo {
            margin-bottom: 20px;
        }

        .footer-logo img {
            height: 55px;
            padding: 3px 5px;
            border-radius: 8px;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .footer-logo img:hover {
            background: rgba(30, 58, 95, 0.9);
            transform: scale(1.05);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--red);
        }

        .footer-copy {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.85rem;
        }

        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .payment-icon {
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 700;
            opacity: 0.85;
            transition: opacity 0.3s, transform 0.3s;
        }

        .payment-icon:hover {
            opacity: 1;
            transform: scale(1.05);
        }

        .payment-icon.visa {
            background: #1a1f71;
            color: #fff;
        }

        .payment-icon.mastercard {
            background: linear-gradient(90deg, #eb001b 0%, #f79e1b 100%);
            color: #fff;
        }

        .payment-icon.amex {
            background: #006fcf;
            color: #fff;
        }

        .payment-icon.discover {
            background: #ff6000;
            color: #fff;
        }

        .payment-icon.paypal {
            background: #003087;
            color: #fff;
        }

        .payment-icon.applepay {
            background: #000;
            color: #fff;
        }

        .payment-icon.gpay {
            background: #fff;
            color: #333;
        }

        /* ============================================
           TOAST NOTIFICATIONS
        ============================================ */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--gray-dark);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            border-left: 4px solid var(--red);
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
            z-index: 10000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            border-left-color: #28a745;
        }

        .toast.error {
            border-left-color: #dc3545;
        }

        .toast.info {
            border-left-color: #17a2b8;
        }

        /* ============================================
           TIER-BASED THEMING
        ============================================ */
        /* Gold Tier Theme */
        body.tier-gold .portal-dashboard {
            border-color: var(--gold);
        }
        body.tier-gold .portal-dashboard h3,
        body.tier-gold .portal-dashboard h4 {
            color: var(--gold);
        }
        body.tier-gold .upload-dropzone {
            border-color: rgba(255, 215, 0, 0.5);
        }
        body.tier-gold .upload-dropzone:hover {
            border-color: var(--gold);
            background: rgba(255, 215, 0, 0.1);
        }
        body.tier-gold .upload-browse {
            color: var(--gold);
        }
        body.tier-gold .btn-logout:hover {
            border-color: var(--gold);
            color: var(--gold);
        }
        body.tier-gold .portal-disclaimers li:before {
            color: var(--gold);
        }
        body.tier-gold .dashboard-header h3 {
            background: linear-gradient(45deg, var(--gold), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        /* Gold - Nav theming with shiny effect */
        body.tier-gold .nav-links a:hover,
        body.tier-gold .nav-links a.active {
            background: linear-gradient(90deg, #b8860b, #ffd700, #ffed4e, #ffd700, #b8860b);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: goldShine 2s linear infinite;
        }
        @keyframes goldShine {
            to { background-position: 200% center; }
        }
        body.tier-gold .nav-cta {
            background: linear-gradient(45deg, #b8860b, var(--gold), var(--gold-light), var(--gold));
            background-size: 200% auto;
            color: #000;
            animation: goldShine 3s linear infinite;
        }
        body.tier-gold .user-welcome {
            border-color: var(--gold);
        }
        body.tier-gold .section-title h4,
        body.tier-gold .dashboard-tier-badge {
            background: linear-gradient(90deg, #b8860b, #ffd700, #ffed4e, #ffd700, #b8860b);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: goldShine 2s linear infinite;
        }
        @media (max-width: 900px) {
            body.tier-gold .nav-links {
                border-top-color: var(--gold);
            }
            body.tier-gold .user-welcome {
                border-bottom-color: var(--gold);
            }
        }

        /* Diamond Tier Theme with shiny/shimmer effect */
        body.tier-diamond .portal-dashboard {
            border-color: #fff;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3), 0 0 60px rgba(200, 200, 255, 0.1);
        }
        body.tier-diamond .portal-dashboard h3,
        body.tier-diamond .portal-dashboard h4 {
            background: linear-gradient(90deg, #a0a0a0, #ffffff, #e0e0ff, #ffffff, #a0a0a0);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: diamondShine 2s linear infinite;
        }
        @keyframes diamondShine {
            to { background-position: 200% center; }
        }
        body.tier-diamond .upload-dropzone {
            border-color: rgba(255, 255, 255, 0.5);
        }
        body.tier-diamond .upload-dropzone:hover {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }
        body.tier-diamond .upload-browse {
            background: linear-gradient(90deg, #a0a0a0, #ffffff, #e0e0ff, #ffffff, #a0a0a0);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: diamondShine 2s linear infinite;
        }
        body.tier-diamond .btn-logout:hover {
            border-color: #fff;
            color: #fff;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }
        body.tier-diamond .portal-disclaimers li:before {
            color: #fff;
        }
        body.tier-diamond .dashboard-header h3 {
            background: linear-gradient(90deg, #a0a0a0, #ffffff, #e0e0ff, #ffffff, #a0a0a0);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: diamondShine 2s linear infinite;
        }
        body.tier-diamond .section-title h4,
        body.tier-diamond .dashboard-tier-badge {
            background: linear-gradient(90deg, #a0a0a0, #ffffff, #e0e0ff, #ffffff, #a0a0a0);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: diamondShine 2s linear infinite;
        }
        /* Diamond - Nav theming with shimmer */
        body.tier-diamond .nav-links a:hover,
        body.tier-diamond .nav-links a.active {
            background: linear-gradient(90deg, #a0a0a0, #ffffff, #e0e0ff, #ffffff, #a0a0a0);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: diamondShine 2s linear infinite;
        }
        body.tier-diamond .nav-cta {
            background: linear-gradient(45deg, #c0c0c0, #ffffff, #e0e0ff, #ffffff);
            background-size: 200% auto;
            color: #000;
            animation: diamondShine 3s linear infinite;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }
        body.tier-diamond .user-welcome {
            border-color: #fff;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }
        @media (max-width: 900px) {
            body.tier-diamond .nav-links {
                border-top-color: #fff;
            }
            body.tier-diamond .user-welcome {
                border-bottom-color: #fff;
            }
        }

        /* ============================================
           WHITE THEME (Mom-Friendly Mode)
           Preserving: video background, buttons, red accents
        ============================================ */
        body.white-theme {
            background: #f8f9fa;
            color: #222;
        }

        /* White Theme - Navigation */
        body.white-theme nav {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        body.white-theme .nav-links a {
            color: #333;
        }

        body.white-theme .nav-links a:hover,
        body.white-theme .nav-links a.active {
            color: var(--red);
        }

        body.white-theme #nav-welcome-text {
            color: #333;
        }

        @media (max-width: 900px) {
            body.white-theme .nav-links {
                background: rgba(255, 255, 255, 0.98);
            }
            body.white-theme .nav-links a {
                color: #333;
            }
            body.white-theme .user-welcome {
                background: rgba(255, 255, 255, 0.95);
                border-bottom-color: var(--red);
            }
        }

        /* White Theme - Sections */
        body.white-theme .section-dark {
            background: rgba(255, 255, 255, 0.95);
        }

        body.white-theme .section-header p {
            color: #555;
        }

        /* White Theme - Service Cards */
        body.white-theme .service-card {
            background: linear-gradient(135deg, rgba(255, 51, 51, 0.05), rgba(255, 255, 255, 0.95));
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        body.white-theme .service-card p {
            color: #444;
        }

        /* White Theme - Package Cards */
        body.white-theme .package-card {
            background: linear-gradient(135deg, rgba(255, 51, 51, 0.05), rgba(255, 255, 255, 0.98));
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        body.white-theme .package-card.gold {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.08), rgba(255, 255, 255, 0.98));
        }

        body.white-theme .package-card.diamond {
            background: linear-gradient(135deg, rgba(200, 200, 200, 0.15), rgba(255, 255, 255, 0.98));
        }

        body.white-theme .package-features li {
            color: #333;
            border-bottom-color: rgba(0, 0, 0, 0.08);
        }

        body.white-theme .package-price {
            background: rgba(255, 215, 0, 0.15);
        }

        /* White Theme - Guarantee Box */
        body.white-theme .guarantee-box {
            background: rgba(40, 167, 69, 0.08);
        }

        body.white-theme .guarantee-box p {
            color: #333;
        }

        /* White Theme - Portfolio */
        body.white-theme .portfolio-item {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        /* White Theme - About Section */
        body.white-theme .about-text p {
            color: #444;
        }

        body.white-theme .credential-label {
            color: #666;
        }

        /* White Theme - Value Cards */
        body.white-theme .value-card {
            border-color: rgba(0, 0, 0, 0.08);
        }

        body.white-theme .value-card p {
            color: #444;
        }

        body.white-theme .value-efficiency {
            background: rgba(255, 255, 255, 0.98);
        }

        body.white-theme .value-adventure {
            background: rgba(255, 255, 255, 0.98);
        }

        body.white-theme .value-honesty {
            background: rgba(255, 255, 255, 0.98);
        }

        body.white-theme .value-quality {
            background: rgba(255, 255, 255, 0.98);
        }

        body.white-theme .core-values {
            border-top-color: rgba(0, 0, 0, 0.1);
        }

        /* White Theme - Footer */
        body.white-theme footer {
            background: rgba(255, 255, 255, 0.95);
            border-top-color: rgba(255, 51, 51, 0.2);
        }

        body.white-theme .footer-links a {
            color: #555;
        }

        body.white-theme .footer-copy {
            color: #888;
        }

        /* White Theme - Portal Card */
        body.white-theme .portal-card {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 40px rgba(0, 0, 0, 0.12);
        }

        body.white-theme .portal-tab {
            color: #666;
        }

        body.white-theme .portal-tab.active {
            color: var(--red);
        }

        body.white-theme .form-label {
            color: #444;
        }

        body.white-theme .form-input {
            background: rgba(0, 0, 0, 0.03);
            border-color: rgba(0, 0, 0, 0.15);
            color: #222;
        }

        body.white-theme .form-input:focus {
            background: rgba(255, 51, 51, 0.03);
        }

        body.white-theme .auth-divider {
            color: #888;
        }

        body.white-theme .auth-divider::before,
        body.white-theme .auth-divider::after {
            background: rgba(0, 0, 0, 0.15);
        }

        body.white-theme .form-subtitle {
            color: #555;
        }

        body.white-theme .form-checkbox label {
            color: #444;
        }

        /* White Theme - Portal Dashboard */
        body.white-theme .portal-dashboard {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 40px rgba(0, 0, 0, 0.12);
        }

        body.white-theme .dashboard-header {
            border-bottom-color: rgba(0, 0, 0, 0.1);
        }

        body.white-theme .upload-section h4,
        body.white-theme .deliverables-section h4 {
            color: #222;
        }

        body.white-theme .upload-description {
            color: #666;
        }

        body.white-theme .dropzone-content p {
            color: #444;
        }

        body.white-theme .upload-hint {
            color: #888;
        }

        body.white-theme .uploaded-file {
            background: rgba(0, 0, 0, 0.03);
        }

        body.white-theme .uploaded-file-name {
            color: #222;
        }

        body.white-theme .uploaded-file-size {
            color: #888;
        }

        body.white-theme .file-card {
            background: linear-gradient(145deg, rgba(250, 250, 250, 0.98), rgba(240, 240, 240, 0.95));
            border-color: rgba(0, 0, 0, 0.1);
        }

        body.white-theme .file-info {
            background: rgba(0, 0, 0, 0.02);
        }

        body.white-theme .file-name {
            color: #222;
        }

        body.white-theme .file-date {
            color: #888;
        }

        body.white-theme .empty-state {
            color: #888;
        }

        body.white-theme .portal-disclaimers {
            background: rgba(0, 0, 0, 0.02);
            border-color: rgba(0, 0, 0, 0.08);
        }

        body.white-theme .portal-disclaimers h5 {
            color: #444;
        }

        body.white-theme .portal-disclaimers li {
            color: #555;
        }

        body.white-theme .portal-disclaimers li strong {
            color: #333;
        }

        body.white-theme .deliverables-empty {
            color: #888;
        }

        /* White Theme - Admin Modal */
        body.white-theme .admin-modal-content,
        body.white-theme .legal-modal-content {
            background: #fff;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.2);
        }

        body.white-theme .admin-modal-header,
        body.white-theme .legal-modal-content h2 {
            border-bottom-color: rgba(0, 0, 0, 0.1);
        }

        body.white-theme .admin-modal-close,
        body.white-theme .legal-modal-close {
            color: #333;
        }

        body.white-theme .admin-tab {
            color: #666;
        }

        body.white-theme .admin-tab:hover {
            color: #222;
        }

        body.white-theme .admin-tabs {
            border-bottom-color: rgba(0, 0, 0, 0.1);
        }

        body.white-theme .admin-table th {
            color: #888;
        }

        body.white-theme .admin-table td {
            color: #222;
            border-bottom-color: rgba(0, 0, 0, 0.08);
        }

        body.white-theme .admin-table tr:hover td {
            background: rgba(0, 0, 0, 0.03);
        }

        body.white-theme .admin-form {
            background: rgba(0, 0, 0, 0.02);
            border-color: rgba(0, 0, 0, 0.08);
        }

        body.white-theme .admin-form-row label {
            color: #444;
        }

        body.white-theme .admin-form-row input,
        body.white-theme .admin-form-row select {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(0, 0, 0, 0.15);
            color: #222;
        }

        body.white-theme .admin-section-header h3 {
            color: #222;
        }

        body.white-theme .legal-modal-body {
            color: #333;
        }

        body.white-theme .legal-modal-body h3 {
            color: #222;
        }

        /* White Theme - Toast Notifications */
        body.white-theme .toast {
            background: #fff;
            color: #222;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.15);
        }

        /* White Theme - Sidebar Package Buttons */
        body.white-theme .package-btn {
            border-color: #333;
            color: #333;
        }

        body.white-theme .package-btn:hover {
            color: #fff;
        }

        /* White Theme - Hero section stays transparent over video */
        body.white-theme .hero-subtitle {
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        /* ============================================
           TOP HEADLINE SECTION
        ============================================ */
        .saas-top-section {
            background: linear-gradient(180deg, rgba(248, 250, 252, 0.95) 0%, rgba(238, 242, 255, 0.95) 100%);
            padding: 100px 40px 60px;
            text-align: center;
            position: relative;
        }

        .saas-top-content {
            max-width: 1100px;
            margin: 0 auto;
        }

        .saas-top-content h1 {
            font-size: 2.4rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 50px;
        }

        @media (max-width: 768px) {
            .saas-top-content h1 {
                font-size: 1.8rem;
            }
            .saas-top-section {
                padding: 80px 20px 40px;
            }
        }

        .saas-top-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            margin-bottom: 50px;
        }

        @media (max-width: 1000px) {
            .saas-top-cards {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .saas-top-cards {
                grid-template-columns: 1fr;
            }
        }

        .saas-top-card {
            background: #fff;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(11, 18, 32, 0.06);
            border: 1px solid rgba(11, 18, 32, 0.04);
            transition: all 0.3s ease;
        }

        .saas-top-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(11, 18, 32, 0.1);
        }

        .saas-top-card-img {
            background: linear-gradient(135deg, #e8eef5, #f5f7fa);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .saas-top-card-img img {
            width: 100%;
            height: 100px;
            object-fit: contain;
            border-radius: 8px;
        }

        .saas-top-card h4 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 8px;
        }

        .saas-top-card p {
            font-size: 0.8rem;
            color: #6B7280;
            line-height: 1.4;
        }

        .saas-top-cta {
            margin-top: 40px;
        }

        .saas-top-cta h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 20px;
        }

        /* ============================================
           SAAS HERO SECTION - White Gradient Overlay
        ============================================ */
        .saas-hero {
            background: transparent;
            padding: 100px 40px 0;
            position: relative;
            overflow-x: clip;
            overflow-y: visible;
            min-height: 80vh;
            display: flex;
            align-items: center;
        }

        /* Dark gradient overlay - opaque on left, transparent on right */
        .saas-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg,
                rgba(0, 0, 0, 0.85) 0%,
                rgba(0, 0, 0, 0.75) 30%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.2) 70%,
                transparent 100%);
            pointer-events: none;
            z-index: 1;
        }

        .saas-hero-content {
            max-width: 600px;
            margin: 0;
            margin-left: 5%;
            display: block;
            position: relative;
            z-index: 2;
        }

        @media (max-width: 900px) {
            .saas-hero {
                padding: 80px 20px 0;
                min-height: auto;
            }
            .saas-hero::before {
                background: linear-gradient(180deg,
                    rgba(0, 0, 0, 0.5) 0%,
                    rgba(0, 0, 0, 0.4) 50%,
                    rgba(0, 0, 0, 0.2) 80%,
                    transparent 100%);
            }
            .saas-hero-content {
                max-width: 100%;
                margin-left: 0;
                text-align: center;
            }
            .video-hero-section {
                min-height: 60vh !important;
            }
        }

        .saas-hero-text {
            padding: 40px 0;
            text-align: center;
        }

        @media (max-width: 900px) {
            .saas-hero-text {
                padding: 20px 0;
                order: 2;
            }
        }

        .saas-hero-text h1 {
            font-size: 2.8rem;
            font-weight: 800;
            color: #fff;
            line-height: 1.2;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        @media (max-width: 768px) {
            .saas-hero-text h1 {
                font-size: 1.8rem;
            }
        }

        .saas-hero-text p {
            font-size: 1.05rem;
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.7;
            margin-bottom: 25px;
            text-shadow: 0 1px 5px rgba(0,0,0,0.3);
        }

        .saas-hero-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn-saas-primary {
            background: var(--saas-blue);
            color: #fff;
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
            border: none;
            cursor: pointer;
        }

        .btn-saas-primary:hover {
            background: var(--saas-blue-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }

        .btn-saas-secondary {
            background: transparent;
            color: #fff;
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.7);
            cursor: pointer;
        }

        .btn-saas-secondary:hover {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .saas-trust-indicators {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            font-size: 0.85rem;
            color: #6B7280;
        }

        @media (max-width: 900px) {
            .saas-trust-indicators {
                justify-content: center;
            }
        }

        .saas-trust-indicators span {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .saas-trust-indicators span::before {
            content: 'âœ“';
            color: #10B981;
            font-weight: 700;
        }

        /* Hero Image - Pinned to right edge */
        .saas-hero-image {
            position: absolute;
            right: 0;
            bottom: 0;
            z-index: 10;
            display: flex;
            align-items: flex-end;
            justify-content: flex-end;
        }

        .saas-hero-image img {
            max-height: 75vh;
            width: auto;
            display: block;
            position: relative;
            z-index: 10;
            object-fit: cover;
            object-position: top center;
            margin-bottom: 0;
            margin-right: calc(-30vw - 100px);
            filter: drop-shadow(0 15px 50px rgba(0,0,0,0.2));
        }

        @media (max-width: 1200px) {
            .saas-hero-image img {
                max-height: 70vh;
            }
        }

        @media (max-width: 900px) {
            .saas-hero-image {
                position: relative;
                right: auto;
                bottom: auto;
                justify-content: center;
                margin-top: 20px;
            }
            .saas-hero-image img {
                max-height: 50vh;
                max-width: 300px;
                margin-bottom: -60px;
                margin-right: 0;
            }
        }

        /* Hero Logo - Centered over text */
        .hero-logo-img {
            max-width: 320px;
            margin: 0 auto 25px;
            display: block;
        }

        @media (max-width: 768px) {
            .hero-logo-img {
                max-width: 260px;
            }
        }

        /* ============================================
           WORK PRODUCTS CAROUSEL (McKinsey/Bain Style)
        ============================================ */
        .work-carousel-section {
            background: linear-gradient(180deg, rgba(248, 250, 252, 0.98) 0%, rgba(240, 245, 255, 0.95) 100%);
            padding: 60px 0 40px;
            position: relative;
            z-index: 5;
        }

        .carousel-title {
            text-align: center;
            margin-bottom: 30px;
        }

        .carousel-title h2 {
            color: #1e3a5f;
            font-size: 2.2rem;
            font-weight: 700;
        }

        .deliverables-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .deliverable-card {
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .deliverable-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .deliverable-card img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .deliverable-card h4 {
            font-weight: 600;
            color: #1e3a5f;
            font-size: 0.95rem;
            margin: 15px 15px 5px;
        }

        .deliverable-card p {
            color: #6B7280;
            font-size: 0.8rem;
            margin: 0 15px 15px;
        }

        .carousel-cta {
            text-align: center;
            padding: 20px 40px 40px;
        }

        .carousel-cta h3 {
            color: #1e3a5f;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        @media (max-width: 900px) {
            .deliverables-grid {
                grid-template-columns: repeat(2, 1fr);
                padding: 20px;
            }
        }

        @media (max-width: 500px) {
            .deliverables-grid {
                grid-template-columns: 1fr;
            }
        }

        .work-carousel-container {
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
            padding: 20px 40px 30px;
            cursor: grab;
            user-select: none;
            /* Firefox scrollbar */
            scrollbar-width: thin;
            scrollbar-color: var(--saas-blue) #e5e7eb;
        }

        .work-carousel-container:active {
            cursor: grabbing;
        }

        /* Custom scrollbar for desktop */
        .work-carousel-container::-webkit-scrollbar {
            height: 8px;
        }

        .work-carousel-container::-webkit-scrollbar-track {
            background: #e5e7eb;
            border-radius: 10px;
            margin: 0 40px;
        }

        .work-carousel-container::-webkit-scrollbar-thumb {
            background: var(--saas-blue);
            border-radius: 10px;
        }

        .work-carousel-container::-webkit-scrollbar-thumb:hover {
            background: var(--saas-blue-dark);
        }

        /* Hide scrollbar on mobile - drag works better */
        @media (max-width: 768px) {
            .work-carousel-container {
                scrollbar-width: none;
                -ms-overflow-style: none;
                padding: 20px 20px 20px;
            }
            .work-carousel-container::-webkit-scrollbar {
                display: none;
            }
        }

        .work-carousel {
            display: flex;
            gap: 20px;
            width: max-content;
        }

        .work-carousel-card {
            flex-shrink: 0;
            width: 280px;
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .work-carousel-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .work-carousel-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .work-carousel-label {
            padding: 15px;
            text-align: center;
        }

        .work-carousel-label h4 {
            font-weight: 600;
            color: #1e3a5f;
            font-size: 0.95rem;
            margin: 0 0 5px 0;
        }

        .work-carousel-label p {
            color: #6B7280;
            font-size: 0.8rem;
            margin: 0;
        }

        .carousel-scroll-hint {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 15px;
            color: #6B7280;
            font-size: 0.85rem;
        }

        .scroll-arrow {
            animation: scrollHint 1.5s ease-in-out infinite;
        }

        @keyframes scrollHint {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(5px); }
        }

        @media (max-width: 768px) {
            .work-carousel-card {
                width: 240px;
            }
            .work-carousel-card img {
                height: 150px;
            }
            .work-carousel-container {
                padding: 20px;
            }
        }

        /* Work Modal for expanding images */
        .work-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .work-modal.active {
            display: flex;
        }

        .work-modal img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
        }

        .work-modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 2.5rem;
            cursor: pointer;
            z-index: 10001;
        }

        /* ============================================
           SAMPLE DELIVERABLES SECTION
        ============================================ */
        .saas-deliverables {
            background: linear-gradient(180deg, rgba(240, 245, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%);
            padding: 80px 40px;
            position: relative;
            z-index: 5;
        }

        .saas-deliverables-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .saas-deliverables-header h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 10px;
        }

        .saas-deliverables-header p {
            color: #6B7280;
            font-size: 1.1rem;
        }

        .saas-deliverables-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            max-width: 1100px;
            margin: 0 auto 50px;
        }

        @media (max-width: 1000px) {
            .saas-deliverables-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .saas-deliverables-grid {
                grid-template-columns: 1fr;
            }
            .saas-deliverables {
                padding: 120px 20px 60px;
            }
        }

        .saas-deliverable-card {
            background: #fff;
            border-radius: 16px;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(11, 18, 32, 0.06);
            border: 1px solid rgba(11, 18, 32, 0.04);
            transition: all 0.3s ease;
        }

        .saas-deliverable-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(11, 18, 32, 0.1);
        }

        .saas-deliverable-card img {
            width: 100%;
            max-width: 180px;
            height: 100px;
            object-fit: contain;
            margin-bottom: 15px;
            border-radius: 8px;
        }

        .saas-deliverable-card h4 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 8px;
        }

        .saas-deliverable-card p {
            font-size: 0.8rem;
            color: #6B7280;
            line-height: 1.5;
        }

        .saas-cta-center {
            text-align: center;
            margin-top: 40px;
        }

        .saas-cta-center h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 20px;
        }

        /* ============================================
           ABOUT LIGHTNING LEDGERZ SECTION
        ============================================ */
        .saas-about-section {
            background: transparent;
            padding: 80px 40px;
            position: relative;
            overflow: hidden;
        }

        .saas-about-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        @media (max-width: 900px) {
            .saas-about-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }

        .saas-about-text h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 20px;
        }

        .saas-about-text p {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.7;
            margin-bottom: 30px;
        }

        .saas-about-section .saas-hero-buttons .btn-saas-secondary {
            color: #fff;
            border-color: rgba(255, 255, 255, 0.4);
        }

        .saas-about-section .saas-hero-buttons .btn-saas-secondary:hover {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .saas-about-section .saas-trust-indicators {
            color: rgba(255, 255, 255, 0.7);
        }

        .saas-about-section .saas-trust-indicators span::before {
            color: #10B981;
        }

        .saas-about-image {
            position: relative;
        }

        .saas-about-image .saas-hero-image-container {
            background: url('https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800&q=80') center/cover;
        }

        @media (max-width: 900px) {
            .saas-about-image {
                order: -1;
            }
        }

        /* FP&A Deliverables Icon Cards */
        .saas-fpa-section {
            background: linear-gradient(180deg, #F8FAFC 0%, #F1F5F9 100%);
            padding: 80px 40px;
        }

        .saas-fpa-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .saas-fpa-header h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 10px;
        }

        .saas-fpa-header p {
            color: #6B7280;
            font-size: 1.1rem;
        }

        .saas-fpa-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            max-width: 1100px;
            margin: 0 auto;
        }

        @media (max-width: 1000px) {
            .saas-fpa-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .saas-fpa-grid {
                grid-template-columns: 1fr;
            }
        }

        .saas-fpa-card {
            background: #fff;
            border-radius: 16px;
            padding: 30px 25px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(11, 18, 32, 0.06);
            border: 1px solid rgba(11, 18, 32, 0.04);
            transition: all 0.3s ease;
        }

        .saas-fpa-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(11, 18, 32, 0.1);
        }

        .saas-fpa-icon {
            width: 60px;
            height: 60px;
            background: var(--saas-navy);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 1.5rem;
        }

        .saas-fpa-card h4 {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--saas-navy);
            margin-bottom: 10px;
        }

        .saas-fpa-card p {
            font-size: 0.9rem;
            color: #6B7280;
            line-height: 1.6;
        }

        /* Legacy modern section support */
        .modern-section {
            display: none;
        }

        .modern-steps-section {
            display: none;
        }

        .modern-card h4 {
            color: #1a1a2e;
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .modern-card p {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* 3 Steps Section */
        .modern-steps-section {
            background: url('https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=1400&q=80') center/cover;
            position: relative;
            padding: 80px 40px;
        }

        .modern-steps-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.92), rgba(26, 26, 46, 0.85));
        }

        .modern-steps-content {
            position: relative;
            z-index: 1;
            max-width: 1100px;
            margin: 0 auto;
        }

        .modern-steps-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .modern-steps-header h3 {
            font-size: 2rem;
            color: #fff;
            margin-bottom: 10px;
        }

        .modern-steps-header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }

        .modern-steps-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }

        @media (max-width: 800px) {
            .modern-steps-grid {
                grid-template-columns: 1fr;
            }
        }

        .modern-step {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 35px 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .modern-step:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.12);
        }

        .modern-step-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--red), #ff6b6b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 1.4rem;
            font-weight: 700;
            color: #fff;
        }

        .modern-step h4 {
            color: #fff;
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .modern-step p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Stats Bar */
        .modern-stats {
            display: flex;
            justify-content: center;
            gap: 50px;
            flex-wrap: wrap;
            margin-top: 50px;
            padding-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modern-stat {
            text-align: center;
        }

        .modern-stat-number {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--red);
            display: block;
        }

        .modern-stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            margin-top: 5px;
        }

        .modern-stat {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .modern-stat:hover {
            transform: scale(1.1);
        }

        .modern-stat:hover .modern-stat-number,
        .modern-stat:hover .modern-stat-label {
            color: var(--red) !important;
        }

    </style>
</head>
<body>
    <!-- Video Background - Using iframe for universal compatibility including iOS -->
    <div class="video-background">
        <iframe
            id="bg-video"
            src="https://streamable.com/e/0ek0up?autoplay=1&nocontrols=1&loop=1&muted=1"
            frameborder="0"
            allow="autoplay; fullscreen"
            allowfullscreen>
        </iframe>
    </div>
    <div class="video-overlay"></div>

    <!-- Navigation -->
    <nav>
        <a href="#top" class="logo" onclick="goHome()" title="Back to home">
            <img src="LightningLedgerzLogo.png" alt="Lightning Ledgerz Logo">
        </a>
        <div id="user-welcome-nav" class="user-welcome" style="display: none;">
            <span id="nav-welcome-text">Hi, User!</span>
            <span id="nav-plan-badge" class="plan-badge badge-basic">Basic</span>
        </div>
        <ul class="nav-links" id="nav-links">
            <li class="mobile-only"><a href="#portal" onclick="closeMobileMenu()" class="mobile-cta">Get Started</a></li>
            <li><a href="#pricing" onclick="closeMobileMenu()">Services</a></li>
            <li><a href="#work" onclick="closeMobileMenu()">Portfolio</a></li>
            <li><a href="#about" onclick="closeMobileMenu()">About</a></li>
            <li><a href="#schedule" onclick="closeMobileMenu()">Schedule</a></li>
            <li><a href="#portal" onclick="closeMobileMenu()">Portal</a></li>
            <!-- Contact for mobile only -->
            <li class="mobile-only nav-package-divider"></li>
            <li class="mobile-only"><a href="tel:+17025502513" onclick="closeMobileMenu()" style="display: flex; align-items: center; gap: 8px;">&#9742; (702) 550-2513</a></li>
            <li class="mobile-only"><a href="mailto:zprizant@lightningledgerz.com" onclick="closeMobileMenu()" style="display: flex; align-items: center; gap: 8px;">&#9993; zprizant@lightningledgerz.com</a></li>
            <!-- Package buttons for mobile only -->
            <li class="mobile-only nav-package-divider"></li>
            <li class="mobile-only"><a href="#basic-card" onclick="highlightPackageCard('basic-card'); closeMobileMenu(); return false;" class="nav-package-link basic">âš¡ Basic</a></li>
            <li class="mobile-only"><a href="#gold-card" onclick="highlightPackageCard('gold-card'); closeMobileMenu(); return false;" class="nav-package-link gold">âœ¨ Gold</a></li>
            <li class="mobile-only"><a href="#diamond-card" onclick="highlightPackageCard('diamond-card'); closeMobileMenu(); return false;" class="nav-package-link diamond">ðŸ’Ž Diamond</a></li>
        </ul>
        <div class="nav-contact-info">
            <a href="tel:+17025502513">&#9742; (702) 550-2513</a>
            <a href="mailto:zprizant@lightningledgerz.com">&#9993; zprizant@lightningledgerz.com</a>
        </div>
        <a href="#portal" class="nav-cta">Get Started</a>
        <a href="tel:+17025502513" class="nav-mobile-phone">&#9742; (702) 550-2513</a>
        <button class="nav-mobile-toggle" id="hamburger-btn" onclick="toggleMobileMenu()">â˜°</button>
    </nav>

    <!-- Package Sidebar Buttons -->
    <div class="package-sidebar">
        <a href="javascript:void(0)" class="package-btn basic" id="btn-basic" onclick="event.preventDefault(); highlightPackageCard('basic-card');">
            âš¡ Basic Package
        </a>
        <a href="javascript:void(0)" class="package-btn gold" id="btn-gold" onclick="event.preventDefault(); highlightPackageCard('gold-card');">
            âœ¨ Gold Package
        </a>
        <a href="javascript:void(0)" class="package-btn diamond" id="btn-diamond" onclick="event.preventDefault(); highlightPackageCard('diamond-card');">
            ðŸ’Ž Diamond Package
        </a>
    </div>

    <!-- CLEAN SAAS SECTION: Hero with Headshot -->
    <section class="saas-hero" id="top">
        <div class="saas-hero-content">
            <div class="saas-hero-text">
                <img src="LightningLedgerzLogo.png" alt="Lightning Ledgerz" class="hero-logo-img">
                <p>Who says lightning never strikes twice? Get consistent: Budget vs. Actual Reporting, Financial Modeling, Boardroom-Ready Decks & Dashboards crafted by an expert â€” not an algorithm. Lightning fast so you can focus on what makes your business shine.</p>
                <div class="saas-hero-buttons">
                    <a href="#work" class="btn-saas-primary">View Work</a>
                    <a href="#portal" class="btn-saas-secondary">Get Started</a>
                </div>
            </div>
            <div class="saas-hero-image">
                <img src="zacfullsuitnoback.png" alt="Zac Prizant - FP&A Expert">
            </div>
        </div>
    </section>

    <!-- Work Products Carousel (McKinsey/Bain Style) -->
    <section class="work-carousel-section" id="work">
        <div class="carousel-title">
            <h2>Sample FP&A Deliverables</h2>
        </div>
        <div class="work-carousel-container" id="work-carousel-container">
            <div class="work-carousel" id="work-carousel">
                <div class="work-carousel-card" onclick="openWorkModal('slide-budget-vs-actual.png')">
                    <img src="slide-budget-vs-actual.png" alt="Budget vs Actual">
                    <div class="work-carousel-label">
                        <h4>Budget vs Actual</h4>
                        <p>Monthly variance tracking</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-income-benchmarking.png')">
                    <img src="slide-income-benchmarking.png" alt="Income Benchmarking">
                    <div class="work-carousel-label">
                        <h4>Income Benchmarking</h4>
                        <p>Industry comparison analysis</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('dynamicdashboards.png')">
                    <img src="dynamicdashboards.png" alt="KPI Dashboard">
                    <div class="work-carousel-label">
                        <h4>KPI Dashboard</h4>
                        <p>Track performance metrics</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-operational-goals.png')">
                    <img src="slide-operational-goals.png" alt="Operational Goals">
                    <div class="work-carousel-label">
                        <h4>Operational Goals</h4>
                        <p>Strategic planning & scenarios</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-client-analysis.png')">
                    <img src="slide-client-analysis.png" alt="Client Analysis">
                    <div class="work-carousel-label">
                        <h4>Client Analysis</h4>
                        <p>Geographic insights</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-expense-waterfall.png')">
                    <img src="slide-expense-waterfall.png" alt="Expense Waterfall">
                    <div class="work-carousel-label">
                        <h4>Expense Waterfall</h4>
                        <p>Cost flow visualization</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-revenue-trend.png')">
                    <img src="slide-revenue-trend.png" alt="Revenue Trend">
                    <div class="work-carousel-label">
                        <h4>Revenue Trend</h4>
                        <p>Growth trajectory analysis</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-expense-breakdown.png')">
                    <img src="slide-expense-breakdown.png" alt="Expense Breakdown">
                    <div class="work-carousel-label">
                        <h4>Expense Breakdown</h4>
                        <p>Category & year analysis</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-cost-comparison.png')">
                    <img src="slide-cost-comparison.png" alt="Cost Comparison">
                    <div class="work-carousel-label">
                        <h4>Cost Comparison</h4>
                        <p>Side-by-side expense analysis</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-revenue-by-customer.png')">
                    <img src="slide-revenue-by-customer.png" alt="Revenue by Customer">
                    <div class="work-carousel-label">
                        <h4>Revenue by Customer</h4>
                        <p>Client concentration insights</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-profit-margin.png')">
                    <img src="slide-profit-margin.png" alt="Profit Margin">
                    <div class="work-carousel-label">
                        <h4>Profit Margin</h4>
                        <p>Margin trend analysis</p>
                    </div>
                </div>
                <div class="work-carousel-card" onclick="openWorkModal('slide-market-analysis.png')">
                    <img src="slide-market-analysis.png" alt="Market Analysis">
                    <div class="work-carousel-label">
                        <h4>Market Analysis</h4>
                        <p>Competitive positioning</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="carousel-scroll-hint">
            <span>Drag to explore</span>
            <span class="scroll-arrow">â†’</span>
        </div>

        <div class="carousel-cta">
            <h3>Get These Reports for Your Business</h3>
            <a href="#portal" class="btn-saas-primary">Start My Free Trial â†’</a>
        </div>
    </section>

    <!-- ORIGINAL HERO: Video Background with Logo + Buttons -->
    <section class="video-hero-section" style="position: relative; min-height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; background: transparent;">
        <div style="position: relative; z-index: 1; padding: 60px 20px;">
            <img src="LightningLedgerzLogo.png" alt="Lightning Ledgerz" style="max-width: 350px; margin-bottom: 40px;">
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <a href="#pricing" class="btn-primary" style="background: linear-gradient(45deg, var(--red), var(--red-light)); color: white; padding: 1rem 2.5rem; border-radius: 50px; font-size: 1.1rem; font-weight: 700; text-decoration: none; box-shadow: 0 4px 15px rgba(255, 51, 51, 0.4);">View Packages</a>
                <a href="#portal" style="background: transparent; color: white; border: 2px solid white; padding: 1rem 2.5rem; border-radius: 50px; font-size: 1.1rem; font-weight: 600; text-decoration: none;">Get Started</a>
            </div>
        </div>
    </section>


    <!-- Pricing Section -->
    <section class="section" id="pricing">
        <div class="section-header">
            <h2>Pricing Packages</h2>
            <p>Flexible plans designed to fit your business needs.</p>
        </div>

        <div class="package-grid">
            <div class="package-card" id="basic-card">
                <h3>âš¡ Basic Package</h3>
                <div class="package-price">$799/month</div>
                <div class="package-trial">First month FREE</div>
                <ul class="package-features">
                    <li>Comprehensive budget creation</li>
                    <li>Monthly financial reporting</li>
                    <li>Basic financial analysis</li>
                    <li>Variance commentary</li>
                    <li>Email support</li>
                </ul>
                <button onclick="selectPlan('basic')" class="btn-primary">Start Free Trial</button>
            </div>

            <div class="package-card gold" id="gold-card">
                <div class="package-popular">Most Popular</div>
                <h3>âœ¨ Gold Package</h3>
                <div class="package-price">$1,299/month</div>
                <div class="package-trial">First month FREE</div>
                <ul class="package-features">
                    <li>Everything in Basic</li>
                    <li>Weekly strategic calls</li>
                    <li>Advanced financial modeling</li>
                    <li>Cash flow optimization</li>
                    <li>KPI dashboard creation</li>
                    <li>Priority support</li>
                </ul>
                <button onclick="selectPlan('gold')" class="btn-primary">Start Free Trial</button>
            </div>

            <div class="package-card diamond" id="diamond-card">
                <h3>ðŸ’Ž Diamond Package</h3>
                <div class="package-price">$3,999/month</div>
                <div class="package-trial">First month FREE</div>
                <ul class="package-features">
                    <li>Everything in Gold</li>
                    <li>Fractional CFO services</li>
                    <li>Complete strategic planning</li>
                    <li>Investment & funding guidance</li>
                    <li>Board presentation support</li>
                    <li>Direct phone access</li>
                </ul>
                <button onclick="selectPlan('diamond')" class="btn-primary">Start Free Trial</button>
            </div>
        </div>

        <div class="guarantee-box">
            <p><strong>90-Day Satisfaction Guarantee:</strong> Not seeing results? Get 50% back within your first 3 months. No questions asked.</p>
        </div>
    </section>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
        <img id="lightbox-img" src="" alt="Portfolio Image">
    </div>

    <!-- Legal Modals -->
    <div class="legal-modal" id="legal-modal">
        <div class="legal-modal-content" onclick="event.stopPropagation()">
            <button class="legal-modal-close" onclick="closeLegalModal()">&times;</button>
            <h2 id="legal-modal-title">Terms of Service</h2>
            <div class="legal-modal-body" id="legal-modal-body"></div>
        </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div class="admin-modal" id="admin-modal">
        <div class="admin-modal-content" onclick="event.stopPropagation()">
            <div class="admin-modal-header">
                <h2>Admin Dashboard</h2>
                <button class="admin-modal-close" onclick="closeAdminDashboard()">&times;</button>
            </div>
            <div class="admin-tabs">
                <button class="admin-tab active" onclick="switchAdminTab('users')">Users</button>
                <button class="admin-tab" onclick="switchAdminTab('reports')">Reports</button>
                <button class="admin-tab" onclick="switchAdminTab('promo')">Promo Codes</button>
            </div>
            <div class="admin-tab-content">
                <!-- Users Tab -->
                <div id="admin-tab-users" class="admin-tab-pane active">
                    <div class="admin-section-header">
                        <h3>Manage Users</h3>
                        <button class="btn-refresh" onclick="loadAdminUsers()">Refresh</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table" id="admin-users-table">
                            <thead>
                                <tr>
                                    <th>Email</th>
                                    <th>Name</th>
                                    <th>Company</th>
                                    <th>Tier</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-users-body">
                                <tr><td colspan="6" class="loading-row">Loading users...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Reports Tab -->
                <div id="admin-tab-reports" class="admin-tab-pane">
                    <div class="admin-section-header">
                        <h3>Upload Report for User</h3>
                    </div>
                    <div class="admin-form">
                        <div class="admin-form-row">
                            <label>Select User:</label>
                            <select id="report-user-select">
                                <option value="">-- Select a user --</option>
                            </select>
                        </div>
                        <div class="admin-form-row">
                            <label>Report Name:</label>
                            <input type="text" id="report-name" placeholder="e.g., Q4 Budget Analysis">
                        </div>
                        <div class="admin-form-row">
                            <label>Description (optional):</label>
                            <input type="text" id="report-description" placeholder="Brief description">
                        </div>
                        <div class="admin-form-row">
                            <label>Report File:</label>
                            <input type="file" id="report-file" accept=".pdf,.xlsx,.xls,.csv,.docx,.pptx">
                        </div>
                        <button class="btn-primary" onclick="uploadUserReport()">Upload Report</button>
                    </div>
                    <div class="admin-section-header" style="margin-top: 30px;">
                        <h3>Recent Reports</h3>
                        <button class="btn-refresh" onclick="loadAdminReports()">Refresh</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Report Name</th>
                                    <th>User</th>
                                    <th>Uploaded</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-reports-body">
                                <tr><td colspan="4" class="loading-row">Loading reports...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Promo Codes Tab -->
                <div id="admin-tab-promo" class="admin-tab-pane">
                    <div class="admin-section-header">
                        <h3>Create Promo Code</h3>
                    </div>
                    <div class="admin-form">
                        <div class="admin-form-row">
                            <label>Code:</label>
                            <input type="text" id="promo-code" placeholder="e.g., LAUNCH50" style="text-transform: uppercase;">
                        </div>
                        <div class="admin-form-row">
                            <label>Discount %:</label>
                            <input type="number" id="promo-discount" placeholder="50" min="1" max="100">
                        </div>
                        <div class="admin-form-row">
                            <label>Expiry Date (optional):</label>
                            <input type="date" id="promo-expiry">
                        </div>
                        <div class="admin-form-row">
                            <label>Max Uses (optional):</label>
                            <input type="number" id="promo-max-uses" placeholder="Unlimited if empty" min="1">
                        </div>
                        <button class="btn-primary" onclick="createPromoCode()">Create Promo Code</button>
                    </div>
                    <div class="admin-section-header" style="margin-top: 30px;">
                        <h3>Active Promo Codes</h3>
                        <button class="btn-refresh" onclick="loadAdminPromoCodes()">Refresh</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Code</th>
                                    <th>Discount</th>
                                    <th>Expiry</th>
                                    <th>Uses</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-promo-body">
                                <tr><td colspan="5" class="loading-row">Loading promo codes...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Break: Before About -->
    <section class="video-hero-section" style="position: relative; min-height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; background: transparent;">
        <div style="position: relative; z-index: 1; padding: 60px 20px;">
            <img src="LightningLedgerzLogo.png" alt="Lightning Ledgerz" style="max-width: 350px; margin-bottom: 40px;">
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <a href="#about" class="btn-primary" style="background: #0073CF; color: white; padding: 1rem 2.5rem; border-radius: 50px; font-size: 1.1rem; font-weight: 700; text-decoration: none; box-shadow: 0 4px 15px rgba(0, 115, 207, 0.4);">About</a>
                <a href="#portal" style="background: transparent; color: white; border: 2px solid white; padding: 1rem 2.5rem; border-radius: 50px; font-size: 1.1rem; font-weight: 600; text-decoration: none;">Get Started</a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="section" id="about">
        <div class="section-header">
            <h2>About</h2>
        </div>

        <div class="about-content about-three-col">
            <div class="about-image" style="text-align: center;">
                <img src="lightningteam.png?v=3" alt="Lightning Ledgerz Team" style="margin-bottom: 5px;">
                <p style="font-size: 0.85rem; font-style: italic; color: #4a6a8a;">Zac (right) with twin brother, Max, Yale SOM</p>
            </div>
            <div class="about-text">
                <h3>Founder: Zac Prizant | Cornell Master's in Management</h3>
                <p>I believe the best financial insights come from human expertise, paired with automation that makes analysis faster, clearer, and more repeatable. With experience across hospitality, private equity, and corporate FP&A, I deliver analysis that drives real decisions.</p>
                <p>I've sat on every side of the tableâ€”closing over $500 million in deals on both the buy and sell side, managing portfolios of over $1 billion, transforming budgeting operations across 75-property portfolios, and launching a fractional CFO division from the ground up.</p>
                <p>I know what works because I've built the systems myselfâ€”automating over 15,000 hours of manual work and turning 8-hour budget cycles into 7-minute ones. What I enjoy most is bringing clarity to businesses that need it.</p>

                <div class="credentials">
                    <div class="credential-item">
                        <div class="credential-number">50+</div>
                        <div class="credential-label">Projects Delivered</div>
                    </div>
                    <div class="credential-item">
                        <div class="credential-number">15,000+</div>
                        <div class="credential-label">Hours Automated</div>
                    </div>
                    <div class="credential-item">
                        <div class="credential-number">8hrsâ†’7min</div>
                        <div class="credential-label">Budget Time Reduced</div>
                    </div>
                    <div class="credential-item">
                        <div class="credential-number">$1B+</div>
                        <div class="credential-label">Portfolio Budgeted</div>
                    </div>
                    <div class="credential-item">
                        <div class="credential-number">$500M+</div>
                        <div class="credential-label">Transactions Closed</div>
                    </div>
                </div>
            </div>
            <div class="about-image-right" style="text-align: center;">
                <img src="zacteamcornell.png?v=1" alt="Zac Prizant at Cornell" style="margin-bottom: 5px;">
                <p style="font-size: 0.85rem; font-style: italic; color: #4a6a8a;">Zac advising investment bankers and consultants at Cornell Johnson Graduate School of Management</p>
            </div>
        </div>

        <!-- Core Values -->
        <div class="core-values">
            <h3 class="values-title">Core Values</h3>
            <div class="values-grid">
                <div class="value-card value-efficiency">
                    <h4>Efficiency</h4>
                    <p>Time is your most valuable asset. I streamline financial processes, automate repetitive tasks, and deliver insights at lightning speedâ€”so you can focus on growing your business, not wrestling with spreadsheets.</p>
                </div>
                <div class="value-card value-adventure">
                    <h4>Adventure</h4>
                    <p>Every business has a unique story and path forward. I embrace the journey with you, tackling complex financial challenges with curiosity and creativity. The best solutions often come from exploring uncharted territory together.</p>
                </div>
                <div class="value-card value-honesty">
                    <h4>Honesty</h4>
                    <p>In an industry often clouded by jargon and spin, there is a responsibility to tell the truth. Every insight, recommendation, and deliverable reflects the unfiltered reality of your financial positionâ€”because informed decisions require complete transparency, not comfortable narratives.</p>
                </div>
                <div class="value-card value-quality">
                    <h4>Quality</h4>
                    <p>Every deliverable meets the highest standard. I provide clean, accurate insights that you can easily digestâ€”transforming complex financial data into clear, actionable intelligence you can trust and act on with confidence.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Schedule a Call Section -->
    <section class="section schedule-hero" id="schedule" style="background: transparent; position: relative; min-height: 80vh; display: flex; align-items: center; justify-content: center;">
        <div style="position: relative; z-index: 1; text-align: center; padding: 60px 20px;">
            <img src="LightningLedgerzLogo.png" alt="Lightning Ledgerz" style="max-width: 280px; margin-bottom: 30px;">
            <div class="section-header" style="margin-bottom: 20px;">
                <h2>Schedule a Call</h2>
                <p>Book a free 30-minute discovery call to discuss your financial needs.</p>
            </div>
            <div style="text-align: center; max-width: 600px; margin: 0 auto;">
                <p style="color: #fff; margin-bottom: 30px; font-size: 1.1rem;">
                    Get personalized FP&A guidance from an expert. Your first consultation is <strong style="color: var(--red);">free</strong>.
                </p>
                <button onclick="Calendly.initPopupWidget({url: 'https://calendly.com/zpzant/30min'});return false;"
                        style="background: linear-gradient(45deg, var(--red), var(--red-light)); color: white; border: none; padding: 18px 40px; font-size: 1.2rem; font-weight: 700; border-radius: 50px; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 20px rgba(255, 51, 51, 0.4);">
                    Book Your Free Call
                </button>
                <p style="color: rgba(255,255,255,0.85); margin-top: 20px; font-size: 0.9rem;">
                    30 minutes via Google Meet
                </p>
            </div>
        </div>
    </section>

    <!-- Portal Section -->
    <section class="section section-dark" id="portal">
        <div class="section-header">
            <h2>Client Portal</h2>
            <p>Upload documents securely and access your deliverables.</p>
        </div>

        <div class="portal-card">
            <div class="portal-tabs">
                <button class="portal-tab active" onclick="switchTab('login')">Sign In</button>
                <button class="portal-tab" onclick="switchTab('register')">Create Account</button>
            </div>

            <!-- Google Sign-In/Sign-Up Button -->
            <button type="button" class="google-btn" onclick="handleGoogleLogin()">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
            </button>

            <div class="auth-divider">
                <span>or continue with email</span>
            </div>

            <form class="portal-form active" id="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" id="login-email" placeholder="you@company.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="login-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <button type="submit" class="form-submit">Sign In</button>
            </form>

            <form class="portal-form" id="register-form" onsubmit="handleRegister(event)">
                <p class="form-subtitle">14-day trial. No credit card required.</p>
                <div class="form-row">
                    <div class="form-group">
                        <input type="text" class="form-input" id="register-firstname" placeholder="First Name" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-input" id="register-lastname" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="form-group">
                    <input type="email" class="form-input" id="register-email" placeholder="Work Email" required>
                </div>
                <div class="form-group">
                    <input type="text" class="form-input" id="register-company" placeholder="Company Name" required>
                </div>
                <div class="form-group">
                    <input type="tel" class="form-input" id="register-phone" placeholder="Phone" required>
                </div>
                <div class="form-group">
                    <input type="password" class="form-input" id="register-password" placeholder="Create Password (min 8 characters)" required minlength="8">
                </div>
                <div class="form-group">
                    <input type="text" class="form-input" id="register-referral" placeholder="Referral Code (Optional)">
                </div>
                <div class="form-checkbox">
                    <input type="checkbox" id="register-terms" required>
                    <label for="register-terms">I agree to the <a href="javascript:void(0)" class="form-link" onclick="openLegalModal(event, 'terms'); return false;">Terms of Service</a> and <a href="javascript:void(0)" class="form-link" onclick="openLegalModal(event, 'privacy'); return false;">Privacy Policy</a></label>
                </div>
                <button type="submit" class="form-submit form-submit-green">Get Started</button>
            </form>
        </div>

        <!-- Logged In Dashboard (hidden by default) -->
        <div class="portal-dashboard" id="portal-dashboard" style="display: none;">
            <div class="dashboard-header">
                <div class="dashboard-greeting">
                    <img src="LightningLedgerzLogo.png" alt="Logo" class="dashboard-logo" id="dashboard-logo">
                    <h3>Hi <span id="user-display-name">there</span>!</h3>
                </div>
                <div class="dashboard-tier-badge" id="tier-badge">Basic</div>
                <!-- Demo Tier Selector (only visible in demo mode) -->
                <div id="demo-tier-selector" class="demo-tier-selector" style="display: none;">
                    <label>Preview Tier:</label>
                    <select id="demo-tier-select" onchange="changeDemoTier(this.value)">
                        <option value="basic">Basic</option>
                        <option value="gold">Gold</option>
                        <option value="diamond">Diamond</option>
                    </select>
                </div>
                <!-- Upgrade Button (visible for basic and gold tiers) -->
                <button id="upgrade-btn" class="btn-upgrade" onclick="scrollToSection('#pricing')" style="display: none;">Upgrade</button>
                <!-- Admin Button (only visible for admin) -->
                <button id="admin-btn" class="btn-admin" onclick="openAdminDashboard()" style="display: none;">Admin</button>
                <button class="btn-logout" onclick="handleLogout()">Sign Out</button>
            </div>

            <!-- Your Uploads Section -->
            <div class="dashboard-section upload-section">
                <div class="section-title">
                    <h4>ðŸ“ Your Uploads</h4>
                    <span class="section-subtitle">Securely upload your financial files for analysis</span>
                </div>

                <div class="upload-dropzone" id="upload-dropzone">
                    <div class="dropzone-content">
                        <span class="dropzone-icon">ðŸ“¤</span>
                        <p>Drag & drop files here or <label for="file-input" class="upload-browse">browse</label></p>
                        <input type="file" id="file-input" accept=".xlsx,.xls,.csv,.pdf,.doc,.docx,.ppt,.pptx,.txt,.rtf,.png,.jpg,.jpeg" multiple style="display: none;">
                        <p class="upload-hint">Accepted: Excel, CSV, PDF, Word, PowerPoint, Images | Max: 25MB per file</p>
                    </div>
                </div>

                <div class="files-grid" id="user-uploads-grid">
                    <!-- User uploaded files will appear here as cards -->
                    <p class="empty-state" id="uploads-empty">No files uploaded yet. Upload your first file above.</p>
                </div>
            </div>

            <!-- Your Lightning Ledgerz Reports Section -->
            <div class="dashboard-section reports-section">
                <div class="section-title">
                    <h4>âš¡ Your Lightning Ledgerz Reports</h4>
                    <span class="section-subtitle">Deliverables prepared by your FP&A advisor</span>
                </div>

                <div class="files-grid" id="reports-grid">
                    <!-- Admin-uploaded reports will appear here as cards -->
                    <p class="empty-state" id="reports-empty">No reports yet. Once your analysis is complete, your custom reports will appear here.</p>
                </div>
            </div>

            <!-- Disclaimers -->
            <div class="portal-disclaimers">
                <h5>Important Notices</h5>
                <ul>
                    <li><strong>Confidentiality:</strong> All uploaded documents are treated as strictly confidential and are encrypted in transit and at rest.</li>
                    <li><strong>Data Handling:</strong> Your financial data is used solely for the purpose of providing FP&A services and is never shared with third parties.</li>
                    <li><strong>No Financial Advice:</strong> Lightning Ledgerz provides financial planning & analysis services, not financial, tax, or legal advice.</li>
                    <li><strong>Retention:</strong> Your files are securely retained indefinitely for your convenience and ongoing reference.</li>
                    <li><strong>Security:</strong> Industry-standard encryption protects your data. Only you and your Lightning Ledgerz advisor can access your files.</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="section" id="contact">
        <div class="section-header">
            <h2>Get In Touch</h2>
            <p>Ready to supercharge your financial reporting?</p>
        </div>
        <div style="text-align: center;">
            <a href="mailto:zprizant@lightningledgerz.com" class="btn-primary contact-email" style="font-size: 1.2rem;">zprizant@lightningledgerz.com</a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-logo">
            <a href="#top" onclick="goHome()" title="Back to home">
                <img src="LightningLedgerzLogo.png" alt="Lightning Ledgerz">
            </a>
        </div>
        <div class="footer-links">
            <a href="#pricing">Services</a>
            <a href="#work">Portfolio</a>
            <a href="#about">About</a>
            <a href="#portal">Portal</a>
        </div>
        <div class="footer-contact" style="margin: 15px 0; color: rgba(255,255,255,0.8);">
            <a href="tel:+17025502513" style="color: #fff; text-decoration: none; margin-right: 20px;">&#9742; (702) 550-2513</a>
            <a href="mailto:zprizant@lightningledgerz.com" style="color: #fff; text-decoration: none;">&#9993; zprizant@lightningledgerz.com</a>
        </div>
        <p class="footer-copy">Â© 2025 Lightning Ledgerz. All rights reserved.</p>
        <div class="payment-methods">
            <span class="payment-icon visa">VISA</span>
            <span class="payment-icon mastercard">MC</span>
            <span class="payment-icon amex">AMEX</span>
            <span class="payment-icon discover">DISCOVER</span>
            <span class="payment-icon paypal">PayPal</span>
            <span class="payment-icon applepay">Apple Pay</span>
            <span class="payment-icon gpay">G Pay</span>
        </div>
    </footer>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script>
        // ===========================================
        // SUPABASE CONFIGURATION
        // ===========================================
        const SUPABASE_URL = 'https://uxicgilvxcqpoxavilxp.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4aWNnaWx2eGNxcG94YXZpbHhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNzYwNzYsImV4cCI6MjA3NjY1MjA3Nn0.W6_iO15HAxjzvNfp_FHWSS0HYOpaJb7-oC-Z3_KaZaw';

        let supabase = null;
        let currentUser = null;

        function initSupabase() {
            try {
                console.log('Attempting Supabase init... window.supabase:', typeof window.supabase);
                if (typeof window.supabase !== 'undefined' && window.supabase.createClient) {
                    supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                    console.log('Supabase initialized successfully');
                    return true;
                } else {
                    console.log('Supabase library not yet loaded');
                }
            } catch (err) {
                console.error('Supabase init error:', err);
            }
            return false;
        }

        // Retry Supabase init until loaded
        function waitForSupabase(callback, maxAttempts = 50) {
            let attempts = 0;
            function tryInit() {
                if (initSupabase()) {
                    if (callback) callback(true);
                    return;
                }
                attempts++;
                if (attempts < maxAttempts) {
                    setTimeout(tryInit, 100);
                } else {
                    console.log('Supabase failed to load after ' + maxAttempts + ' attempts');
                    // IMPORTANT: Always call callback so Promise resolves
                    if (callback) callback(false);
                }
            }
            tryInit();
        }

        // Try to init Supabase and check session on page load
        window.addEventListener('load', function() {
            console.log('Page load complete. Supabase status:', supabase ? 'ready' : 'not ready');
            if (!supabase) {
                initSupabase(); // Try once more
            }
            if (supabase) {
                checkExistingSession();
            } else {
                console.log('Warning: Supabase not available at page load');
            }
        });

        // Check for existing session (handles Google OAuth return)
        async function checkExistingSession() {
            if (!supabase) return;

            try {
                const { data: { session } } = await supabase.auth.getSession();

                if (session && session.user) {
                    // User has an active session (e.g., returned from Google OAuth)
                    const user = session.user;

                    // Get or create profile
                    let { data: profile } = await supabase
                        .from('profiles')
                        .select('first_name, tier')
                        .eq('id', user.id)
                        .single();

                    // If no profile exists (new Google user), create one
                    if (!profile) {
                        const firstName = user.user_metadata?.full_name?.split(' ')[0] ||
                                         user.user_metadata?.name?.split(' ')[0] ||
                                         user.email.split('@')[0];
                        const lastName = user.user_metadata?.full_name?.split(' ').slice(1).join(' ') || '';

                        await supabase.from('profiles').upsert({
                            id: user.id,
                            email: user.email,
                            first_name: firstName,
                            last_name: lastName,
                            tier: 'basic'
                        });

                        profile = { first_name: firstName, tier: 'basic' };
                    }

                    const userName = profile?.first_name || user.email.split('@')[0];
                    const userTier = profile?.tier || 'basic';
                    const isAdmin = user.email === ADMIN_EMAIL;

                    currentUserData = {
                        id: user.id,
                        email: user.email,
                        name: userName,
                        tier: userTier,
                        isDemo: false,
                        isAdmin: isAdmin
                    };

                    showLoggedInDashboard(userName, userTier, false, isAdmin);
                    showToast('Welcome, ' + userName + '!', 'success');

                    // Scroll to portal section
                    document.getElementById('portal').scrollIntoView({ behavior: 'smooth' });
                }
            } catch (err) {
                console.log('Session check error:', err);
            }
        }

        // ===========================================
        // NAVIGATION
        // ===========================================
        function goHome() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function scrollToSection(selector) {
            document.querySelector(selector)?.scrollIntoView({ behavior: 'smooth' });
        }

        function selectPackage(e, packageType) {
            console.log('selectPackage called:', packageType);

            // Remove active class from all sidebar buttons
            document.querySelectorAll('.package-btn').forEach(btn => btn.classList.remove('active'));
            // Remove highlight from all package cards
            document.querySelectorAll('.package-card').forEach(card => card.classList.remove('highlight'));

            // Add active class to clicked button
            const btn = document.getElementById('btn-' + packageType);
            const card = document.getElementById(packageType + '-card');

            console.log('Found card:', card);

            if (btn) btn.classList.add('active');
            if (card) {
                card.classList.add('highlight');
                // Scroll to the card - use scrollIntoView for reliability
                setTimeout(() => {
                    card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 50);
            }
        }

        // ===========================================
        // NAV SCROLL EFFECT - Transparent to White + Hide Package Buttons
        // ===========================================
        window.addEventListener('scroll', function() {
            var nav = document.querySelector('nav');
            var packageSidebar = document.querySelector('.package-sidebar');
            var heroHeight = document.querySelector('.saas-hero') ? document.querySelector('.saas-hero').offsetHeight : 500;

            if (window.scrollY > 50) {
                nav.classList.add('nav-scrolled');
            } else {
                nav.classList.remove('nav-scrolled');
            }

            // Hide package buttons when scrolled past hero
            if (packageSidebar) {
                if (window.scrollY > heroHeight - 100) {
                    packageSidebar.classList.add('hidden');
                } else {
                    packageSidebar.classList.remove('hidden');
                }
            }
        });

        function toggleMobileMenu(e) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            var links = document.getElementById('nav-links');
            if (links.style.display === 'flex') {
                links.style.display = 'none';
            } else {
                links.style.display = 'flex';
            }
        }

        function closeMobileMenu() {
            var links = document.getElementById('nav-links');
            if (window.innerWidth <= 900) {
                links.style.display = 'none';
            }
        }

        // ===========================================
        // TABS
        // ===========================================
        function switchTab(tab) {
            document.querySelectorAll('.portal-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.portal-form').forEach(f => f.classList.remove('active'));

            if (tab === 'login') {
                document.querySelectorAll('.portal-tab')[0].classList.add('active');
                document.getElementById('login-form').classList.add('active');
            } else {
                document.querySelectorAll('.portal-tab')[1].classList.add('active');
                document.getElementById('register-form').classList.add('active');
            }
        }

        // ===========================================
        // AUTH
        // ===========================================
        let currentUserData = null;

        // Demo account credentials
        const DEMO_EMAIL = 'demo@lightningledgerz.com';
        const DEMO_PASSWORD = 'demo123';
        const ADMIN_EMAIL = 'zprizant@lightningledgerz.com';

        // Stripe checkout URLs for each plan
        const STRIPE_URLS = {
            basic: 'https://buy.stripe.com/dRmfZheTUbkcgT7fuNbsc02',
            gold: 'https://buy.stripe.com/28E28r1348805apeqJbsc01',
            diamond: 'https://buy.stripe.com/dRm9ATbHIdsk5ap0zTbsc00'
        };

        // Select a plan - if logged in go to Stripe, else prompt signup
        function selectPlan(plan) {
            if (currentUserData && !currentUserData.isDemo) {
                // User is logged in, go directly to Stripe
                window.open(STRIPE_URLS[plan], '_blank');
            } else {
                // Store selected plan and show signup
                sessionStorage.setItem('pendingPlan', plan);
                // Scroll to portal and show register form
                document.getElementById('portal').scrollIntoView({ behavior: 'smooth' });
                setTimeout(function() {
                    switchTab('register');
                    showToast('Create an account to start your ' + plan.charAt(0).toUpperCase() + plan.slice(1) + ' trial', 'info');
                }, 500);
            }
        }

        // Check for pending plan after login/signup
        function checkPendingPlan() {
            const pendingPlan = sessionStorage.getItem('pendingPlan');
            if (pendingPlan && STRIPE_URLS[pendingPlan]) {
                sessionStorage.removeItem('pendingPlan');
                setTimeout(function() {
                    showToast('Redirecting to checkout...', 'info');
                    setTimeout(function() {
                        window.open(STRIPE_URLS[pendingPlan], '_blank');
                    }, 1000);
                }, 500);
            }
        }

        async function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value.toLowerCase().trim();
            const password = document.getElementById('login-password').value;
            const submitBtn = e.target.querySelector('button[type="submit"]');

            submitBtn.textContent = 'Signing in...';
            submitBtn.disabled = true;

            // Check for demo account
            if (email === DEMO_EMAIL && password === DEMO_PASSWORD) {
                currentUserData = {
                    id: 'demo-user',
                    email: DEMO_EMAIL,
                    name: 'Demo',
                    tier: 'basic',
                    isDemo: true,
                    isAdmin: false
                };
                showLoggedInDashboard('Demo', 'basic', true, false);
                showToast('Welcome to Demo Mode! Use the tier selector to preview different plans.', 'success');
                submitBtn.textContent = 'Sign In';
                submitBtn.disabled = false;
                return;
            }

            // Wait for Supabase if not ready
            if (!supabase) {
                await new Promise((resolve) => {
                    waitForSupabase(resolve, 30);
                });
            }

            if (!supabase) {
                if (window.supabaseError) {
                    showToast('Server script blocked. Try disabling ad-blocker or check firewall.', 'error');
                } else {
                    showToast('Server loading... Please wait a moment and try again.', 'error');
                }
                submitBtn.textContent = 'Sign In';
                submitBtn.disabled = false;
                return;
            }

            try {
                const { data, error } = await supabase.auth.signInWithPassword({ email, password });
                if (error) throw error;

                // Get user profile with tier
                const { data: profile } = await supabase
                    .from('profiles')
                    .select('*')
                    .eq('id', data.user.id)
                    .single();

                const userName = profile?.first_name || data.user?.user_metadata?.full_name || email.split('@')[0];
                const userTier = profile?.package_tier || 'basic';
                const isAdmin = email.toLowerCase() === ADMIN_EMAIL || profile?.is_admin === true;

                currentUserData = {
                    id: data.user.id,
                    email,
                    name: userName,
                    tier: userTier,
                    profile: profile,
                    isDemo: false,
                    isAdmin: isAdmin
                };

                showLoggedInDashboard(userName, userTier, false, isAdmin);
                showToast('Welcome back, ' + userName + '!', 'success');
            } catch (error) {
                showToast(error.message, 'error');
            }

            submitBtn.textContent = 'Sign In';
            submitBtn.disabled = false;
        }

        async function handleGoogleLogin() {
            var btn = document.querySelector('.google-btn');
            btn.textContent = 'Connecting...';
            btn.disabled = true;

            function resetGoogleBtn() {
                btn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg> Continue with Google';
                btn.disabled = false;
            }

            // Wait for Supabase
            if (!supabase) {
                await new Promise((resolve) => waitForSupabase(resolve, 30));
            }

            if (!supabase) {
                showToast('Could not connect to server. Please refresh and try again.', 'error');
                resetGoogleBtn();
                return;
            }

            try {
                const { data, error } = await supabase.auth.signInWithOAuth({
                    provider: 'google',
                    options: {
                        redirectTo: window.location.origin + window.location.pathname
                    }
                });
                if (error) throw error;
                // User will be redirected to Google
            } catch (error) {
                showToast(error.message || 'Google login failed. Make sure Google OAuth is configured in Supabase.', 'error');
                resetGoogleBtn();
            }
        }

        async function handleRegister(e) {
            e.preventDefault();
            var firstName = document.getElementById('register-firstname').value;
            var lastName = document.getElementById('register-lastname').value;
            var email = document.getElementById('register-email').value;
            var company = document.getElementById('register-company').value;
            var phone = document.getElementById('register-phone').value;
            var referral = document.getElementById('register-referral').value || '';
            var password = document.getElementById('register-password').value;
            var fullName = firstName + ' ' + lastName;
            var submitBtn = e.target.querySelector('button[type="submit"]');

            submitBtn.textContent = 'Creating account...';
            submitBtn.disabled = true;

            // Wait for Supabase if not ready
            if (!supabase) {
                await new Promise((resolve) => {
                    waitForSupabase(resolve, 30);
                });
            }

            if (!supabase) {
                if (window.supabaseError) {
                    showToast('Server script blocked. Try disabling ad-blocker or check firewall.', 'error');
                } else {
                    showToast('Server loading... Please wait a moment and try again.', 'error');
                }
                submitBtn.textContent = 'Get Started';
                submitBtn.disabled = false;
                return;
            }

            try {
                var { data, error } = await supabase.auth.signUp({
                    email: email,
                    password: password,
                    options: {
                        data: {
                            full_name: fullName,
                            first_name: firstName,
                            last_name: lastName,
                            company: company,
                            phone: phone
                        }
                    }
                });
                if (error) throw error;

                // Create profile with all fields
                if (data.user) {
                    await supabase.from('profiles').insert([{
                        id: data.user.id,
                        email: email,
                        first_name: firstName,
                        last_name: lastName,
                        company: company,
                        phone: phone,
                        referral_code: referral,
                        package_tier: 'basic'
                    }]);

                    currentUserData = {
                        id: data.user.id,
                        email: email,
                        name: firstName,
                        tier: 'basic'
                    };

                    showLoggedInDashboard(firstName, 'basic');
                    showToast('Welcome to Lightning Ledgerz, ' + firstName + '!', 'success');
                } else {
                    showToast('Check your email to verify your account!', 'success');
                }
            } catch (error) {
                showToast(error.message, 'error');
            }

            submitBtn.textContent = 'Get Started';
            submitBtn.disabled = false;
        }

        function showLoggedInDashboard(name, tier = 'basic', isDemo = false, isAdmin = false) {
            document.querySelector('.portal-card').style.display = 'none';
            document.getElementById('portal-dashboard').style.display = 'block';
            document.getElementById('user-display-name').textContent = name;

            // Update tier badge in dashboard
            var badge = document.getElementById('tier-badge');
            if (badge) {
                badge.textContent = tier.charAt(0).toUpperCase() + tier.slice(1);
            }

            // Show/hide demo tier selector
            var demoSelector = document.getElementById('demo-tier-selector');
            if (demoSelector) {
                demoSelector.style.display = isDemo ? 'flex' : 'none';
                if (isDemo) {
                    document.getElementById('demo-tier-select').value = tier;
                }
            }

            // Show/hide admin button
            var adminBtn = document.getElementById('admin-btn');
            if (adminBtn) {
                adminBtn.style.display = isAdmin ? 'inline-block' : 'none';
            }

            // Show/hide upgrade button (visible for basic and gold, not diamond)
            var upgradeBtn = document.getElementById('upgrade-btn');
            if (upgradeBtn) {
                upgradeBtn.style.display = (tier !== 'diamond' && !isDemo) ? 'inline-block' : 'none';
            }

            // Show nav welcome section and update greeting
            var welcomeNav = document.getElementById('user-welcome-nav');
            var welcomeText = document.getElementById('nav-welcome-text');
            var planBadge = document.getElementById('nav-plan-badge');
            var getStartedBtn = document.querySelector('.nav-cta');

            if (welcomeNav) {
                welcomeNav.style.display = 'flex';
            }
            if (welcomeText) {
                welcomeText.textContent = 'Hi, ' + name + '!';
            }
            if (planBadge) {
                planBadge.className = 'plan-badge badge-' + tier;
                planBadge.textContent = tier.charAt(0).toUpperCase() + tier.slice(1);
            }
            if (getStartedBtn) {
                getStartedBtn.style.display = 'none';
            }

            // Apply tier-based theming
            applyTierTheme(tier);

            // Load user's uploaded files and reports (skip for demo)
            if (!isDemo) {
                loadUserFiles();
                loadUserReports();
                // Check if user selected a plan before signing up
                checkPendingPlan();
            } else {
                // Show demo placeholders
                var uploadsGrid = document.getElementById('user-uploads-grid');
                var reportsGrid = document.getElementById('reports-grid');
                if (uploadsGrid) uploadsGrid.innerHTML = '<p class="empty-state">Demo mode - file uploads disabled</p>';
                if (reportsGrid) reportsGrid.innerHTML = '<p class="empty-state">Demo mode - reports not available</p>';
            }
        }

        // Demo tier change handler
        function changeDemoTier(newTier) {
            if (currentUserData?.isDemo) {
                currentUserData.tier = newTier;
                applyTierTheme(newTier);

                // Update badges
                var badge = document.getElementById('tier-badge');
                var planBadge = document.getElementById('nav-plan-badge');
                if (badge) badge.textContent = newTier.charAt(0).toUpperCase() + newTier.slice(1);
                if (planBadge) {
                    planBadge.className = 'plan-badge badge-' + newTier;
                    planBadge.textContent = newTier.charAt(0).toUpperCase() + newTier.slice(1);
                }

                showToast('Previewing ' + newTier.charAt(0).toUpperCase() + newTier.slice(1) + ' tier', 'success');
            }
        }

        function applyTierTheme(tier) {
            var body = document.body;
            var dashboard = document.getElementById('portal-dashboard');
            var dashboardLogo = document.getElementById('dashboard-logo');

            // Remove any existing tier classes
            body.classList.remove('tier-basic', 'tier-gold', 'tier-diamond');
            dashboard.classList.remove('tier-basic', 'tier-gold', 'tier-diamond');

            // Add new tier class
            body.classList.add('tier-' + tier);
            dashboard.classList.add('tier-' + tier);

            // Update dashboard logo based on tier
            var logoMap = {
                basic: 'LightningLedgerzLogo.png',
                gold: 'LightningLedgerzLogo-gold.png',
                diamond: 'LightningLedgerzLogo-diamond.png'
            };

            if (dashboardLogo) {
                dashboardLogo.src = logoMap[tier] || logoMap.basic;
            }

            // Update all logos based on tier (including reset to basic)
            var logos = document.querySelectorAll('.logo img, .hero-logo img, .footer-logo img');
            logos.forEach(function(logo) {
                logo.src = logoMap[tier] || logoMap.basic;
            });
        }

        function resetTheme() {
            const body = document.body;
            const dashboard = document.getElementById('portal-dashboard');
            const logos = document.querySelectorAll('.logo img, .hero-logo img, .footer-logo img');

            body.classList.remove('tier-basic', 'tier-gold', 'tier-diamond');
            if (dashboard) dashboard.classList.remove('tier-basic', 'tier-gold', 'tier-diamond');

            logos.forEach(logo => {
                logo.src = 'LightningLedgerzLogo.png';
            });
        }

        function showLoginForm() {
            document.querySelector('.portal-card').style.display = 'block';
            document.getElementById('portal-dashboard').style.display = 'none';

            // Hide nav welcome section
            var welcomeNav = document.getElementById('user-welcome-nav');
            var getStartedBtn = document.querySelector('.nav-cta');

            if (welcomeNav) {
                welcomeNav.style.display = 'none';
            }
            if (getStartedBtn) {
                getStartedBtn.style.display = '';
            }

            resetTheme();
        }

        async function handleLogout() {
            if (supabase) {
                await supabase.auth.signOut();
            }
            currentUserData = null;
            showLoginForm();
            showToast('Signed out successfully', 'success');
        }

        // ===========================================
        // FILE UPLOAD
        // ===========================================
        let uploadedFiles = [];

        function initFileUpload() {
            const dropzone = document.getElementById('upload-dropzone');
            const fileInput = document.getElementById('file-input');

            if (!dropzone || !fileInput) return;

            // Click to browse
            dropzone.addEventListener('click', () => fileInput.click());

            // File input change
            fileInput.addEventListener('change', (e) => handleFiles(e.target.files));

            // Drag and drop
            dropzone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropzone.classList.add('dragover');
            });

            dropzone.addEventListener('dragleave', () => {
                dropzone.classList.remove('dragover');
            });

            dropzone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropzone.classList.remove('dragover');
                handleFiles(e.dataTransfer.files);
            });
        }

        async function handleFiles(files) {
            const maxSize = 25 * 1024 * 1024; // 25MB
            const allowedTypes = ['.xlsx', '.xls', '.csv', '.pdf', '.doc', '.docx', '.ppt', '.pptx', '.txt', '.rtf', '.png', '.jpg', '.jpeg'];

            for (const file of Array.from(files)) {
                const ext = '.' + file.name.split('.').pop().toLowerCase();

                if (!allowedTypes.includes(ext)) {
                    showToast(`Invalid file type: ${file.name}`, 'error');
                    continue;
                }

                if (file.size > maxSize) {
                    showToast(`File too large: ${file.name}`, 'error');
                    continue;
                }

                // Show uploading state
                showToast(`Uploading: ${file.name}...`, 'info');

                try {
                    // Upload to Supabase Storage if available and user is logged in
                    if (supabase && currentUserData?.id) {
                        // Debug: Check auth state
                        const { data: sessionData } = await supabase.auth.getSession();
                        console.log('Upload - Session:', sessionData?.session ? 'Active' : 'None');
                        console.log('Upload - User ID:', currentUserData.id);

                        if (!sessionData?.session) {
                            showToast('Session expired. Please sign in again.', 'error');
                            return;
                        }

                        const filePath = `${currentUserData.id}/${Date.now()}_${file.name}`;
                        console.log('Upload - File path:', filePath);

                        const { data: uploadData, error: uploadError } = await supabase.storage
                            .from('user-documents')
                            .upload(filePath, file);

                        if (uploadError) {
                            console.error('Storage upload error:', uploadError);
                            throw uploadError;
                        }

                        // Save file record to database
                        const { error: dbError } = await supabase.from('user_documents').insert([{
                            user_id: currentUserData.id,
                            file_name: file.name,
                            file_path: filePath,
                            file_size: file.size,
                            file_type: file.type || ext
                        }]);

                        if (dbError) {
                            console.error('Database insert error:', dbError);
                            showToast(`File uploaded but not saved to database: ${dbError.message}`, 'error');
                        } else {
                            showToast(`âœ“ Uploaded: ${file.name}`, 'success');
                            // Refresh the files list to show new upload
                            console.log('Refreshing file list...');
                            await loadUserFiles();
                            console.log('File list refreshed');

                            // Send email notification to admin
                            sendUploadNotification(file.name, filePath, currentUserData);
                        }
                    } else {
                        // Local/demo mode
                        showToast(`Uploaded: ${file.name} (demo mode)`, 'info');
                    }
                } catch (error) {
                    console.error('Upload error:', error);
                    showToast(`Failed to upload: ${file.name}`, 'error');
                }
            }
        }

        // Send email notification when user uploads a file
        async function sendUploadNotification(fileName, filePath, userData) {
            try {
                // Get download URL for the file
                let downloadUrl = '';
                if (supabase && filePath) {
                    const { data } = await supabase.storage
                        .from('user-documents')
                        .createSignedUrl(filePath, 86400); // 24 hour link
                    if (data?.signedUrl) downloadUrl = data.signedUrl;
                }

                const emailData = {
                    from: 'Lightning Ledgerz <notifications@lightningledgerz.com>',
                    to: ['zprizant@lightningledgerz.com'],
                    subject: `ðŸ“ New Upload: ${fileName}`,
                    html: `
                        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                            <h2 style="color: #ff3333;">âš¡ New Document Uploaded</h2>
                            <p><strong>File:</strong> ${fileName}</p>
                            <p><strong>User:</strong> ${userData?.name || 'Unknown'}</p>
                            <p><strong>Email:</strong> ${userData?.email || 'Unknown'}</p>
                            <p><strong>Time:</strong> ${new Date().toLocaleString()}</p>
                            ${downloadUrl ? `<p><a href="${downloadUrl}" style="background: #ff3333; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block; margin-top: 10px;">Download File</a></p><p style="color: #666; font-size: 12px;">(Link expires in 24 hours)</p>` : ''}
                        </div>
                    `
                };

                const response = await fetch('https://api.resend.com/emails', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer re_UCWQV5bx_BrU63SdgrK1Tvzfdve93PFHM'
                    },
                    body: JSON.stringify(emailData)
                });

                const result = await response.json();
                if (result.id) {
                    console.log('Upload notification email sent:', result.id);
                } else {
                    console.error('Email send error:', result);
                }
            } catch (error) {
                console.error('Failed to send upload notification:', error);
                // Don't show error to user - email notification is not critical
            }
        }

        function getFileIcon(ext) {
            var icons = {
                xlsx: 'ðŸ“Š', xls: 'ðŸ“Š', csv: 'ðŸ“„', pdf: 'ðŸ“•',
                doc: 'ðŸ“', docx: 'ðŸ“', ppt: 'ðŸ“½ï¸', pptx: 'ðŸ“½ï¸',
                png: 'ðŸ–¼ï¸', jpg: 'ðŸ–¼ï¸', jpeg: 'ðŸ–¼ï¸'
            };
            return icons[ext] || 'ðŸ“';
        }

        function formatDate(dateStr) {
            if (!dateStr) return '';
            var d = new Date(dateStr);
            return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function displayFileCard(fileInfo, container, isReport) {
            var ext = fileInfo.name.split('.').pop().toLowerCase();
            var icon = getFileIcon(ext);
            var dateStr = formatDate(fileInfo.uploaded_at);

            var card = document.createElement('div');
            card.className = 'file-card';

            var deleteBtn = '';
            if (!isReport && fileInfo.id && fileInfo.path) {
                deleteBtn = '<button class="file-delete" onclick="event.stopPropagation(); deleteUserFile(\'' + fileInfo.id + '\', \'' + fileInfo.path + '\')">ðŸ—‘ï¸ Delete</button>';
            }

            card.innerHTML =
                '<div class="file-thumbnail">' +
                    '<span class="file-icon">' + icon + '</span>' +
                    '<div class="file-overlay">' +
                        '<div class="file-date">ðŸ“… ' + dateStr + '</div>' +
                        (fileInfo.url ? '<a href="' + fileInfo.url + '" target="_blank" class="file-download" onclick="event.stopPropagation()">â¬‡ï¸ Download</a>' : '') +
                        deleteBtn +
                    '</div>' +
                '</div>' +
                '<div class="file-info">' +
                    '<div class="file-name" title="' + fileInfo.name + '">' + fileInfo.name + '</div>' +
                '</div>';

            // Click card to download
            if (fileInfo.url) {
                card.onclick = function() { window.open(fileInfo.url, '_blank'); };
            }

            container.appendChild(card);
        }

        async function deleteUserFile(docId, filePath) {
            if (!confirm('Are you sure you want to delete this file?')) return;

            try {
                // Delete from storage
                if (supabase && filePath) {
                    await supabase.storage.from('user-documents').remove([filePath]);
                }

                // Delete from database
                if (supabase && docId) {
                    await supabase.from('user_documents').delete().eq('id', docId);
                }

                showToast('File deleted successfully', 'success');
                loadUserFiles(); // Refresh the list
            } catch (error) {
                console.error('Error deleting file:', error);
                showToast('Error deleting file', 'error');
            }
        }

        async function loadUserFiles() {
            console.log('loadUserFiles called');
            var grid = document.getElementById('user-uploads-grid');
            var emptyState = document.getElementById('uploads-empty');
            if (!grid) {
                console.log('Grid element not found');
                return;
            }

            grid.innerHTML = '<p class="empty-state">Loading files...</p>';

            if (!supabase || !currentUserData?.id) {
                console.log('No supabase or user ID:', { supabase: !!supabase, userId: currentUserData?.id });
                grid.innerHTML = '<p class="empty-state">No files uploaded yet. Upload your first file above.</p>';
                return;
            }

            try {
                console.log('Fetching files for user:', currentUserData.id);
                var { data, error } = await supabase
                    .from('user_documents')
                    .select('*')
                    .eq('user_id', currentUserData.id)
                    .order('uploaded_at', { ascending: false });

                console.log('Files query result:', { data, error });
                if (error) throw error;

                if (data && data.length > 0) {
                    grid.innerHTML = '';
                    for (const doc of data) {
                        // Generate signed URL for download (1 hour expiry)
                        let downloadUrl = doc.file_url;
                        if (doc.file_path && supabase) {
                            const { data: urlData } = await supabase.storage
                                .from('user-documents')
                                .createSignedUrl(doc.file_path, 3600);
                            if (urlData?.signedUrl) {
                                downloadUrl = urlData.signedUrl;
                            }
                        }

                        displayFileCard({
                            id: doc.id,
                            name: doc.file_name,
                            uploaded_at: doc.uploaded_at,
                            url: downloadUrl,
                            path: doc.file_path
                        }, grid, false);
                    }
                } else {
                    grid.innerHTML = '<p class="empty-state">No files uploaded yet. Upload your first file above.</p>';
                }
            } catch (error) {
                console.error('Error loading files:', error);
                grid.innerHTML = '<p class="empty-state">Error loading files. Please refresh.</p>';
            }
        }

        async function loadUserReports() {
            var grid = document.getElementById('reports-grid');
            if (!grid) return;

            grid.innerHTML = '';

            if (!supabase || !currentUserData?.id) {
                // Demo mode - show sample report
                grid.innerHTML = '<p class="empty-state">No reports yet. Once your analysis is complete, your custom reports will appear here.</p>';
                return;
            }

            try {
                // Load reports that admin uploaded for this user
                var { data, error } = await supabase
                    .from('user_reports')
                    .select('*')
                    .eq('user_id', currentUserData.id)
                    .order('created_at', { ascending: false });

                if (error) throw error;

                if (data && data.length > 0) {
                    data.forEach(function(report) {
                        displayFileCard({
                            name: report.report_name,
                            uploaded_at: report.created_at,
                            url: report.file_url || null
                        }, grid, true);
                    });
                } else {
                    grid.innerHTML = '<p class="empty-state">No reports yet. Once your analysis is complete, your custom reports will appear here.</p>';
                }
            } catch (error) {
                console.error('Error loading reports:', error);
                grid.innerHTML = '<p class="empty-state">No reports yet. Once your analysis is complete, your custom reports will appear here.</p>';
            }
        }

        function formatFileSize(bytes) {
            if (!bytes) return '';
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }

        // ===========================================
        // LIGHTBOX
        // ===========================================
        function openLightbox(e, src) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            var lightbox = document.getElementById('lightbox');
            var img = document.getElementById('lightbox-img');
            img.src = src;
            lightbox.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            var lightbox = document.getElementById('lightbox');
            lightbox.style.display = 'none';
            document.body.style.overflow = '';
        }

        // ===========================================
        // LEGAL MODALS
        // ===========================================
        const legalContent = {
            terms: {
                title: 'Terms of Service',
                body: `
                    <h3>1. Company Information</h3>
                    <p><strong>Lightning Ledgerz LLC</strong> is a limited liability company organized and existing under the laws of the State of Nevada, United States, incorporated in 2025. By accessing or using our services, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service.</p>

                    <h3>2. Services Description</h3>
                    <p>Lightning Ledgerz LLC provides financial planning and analysis (FP&A) advisory services, including but not limited to:</p>
                    <ul>
                        <li>Budget vs. Actual reporting and variance analysis</li>
                        <li>Financial modeling and forecasting</li>
                        <li>Executive dashboards and presentations</li>
                        <li>Financial data analysis, visualization, and insights</li>
                    </ul>

                    <h3>3. User Accounts</h3>
                    <p>You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to notify us immediately of any unauthorized access to your account.</p>

                    <h3>4. Acceptable Use</h3>
                    <p>You agree to use our services only for lawful purposes and in accordance with these Terms. You shall not:</p>
                    <ul>
                        <li>Upload false, misleading, or fraudulent financial data</li>
                        <li>Attempt to gain unauthorized access to our systems or other users' data</li>
                        <li>Use our services for any illegal or unauthorized purpose</li>
                        <li>Share your account credentials with unauthorized parties</li>
                    </ul>

                    <h3>5. IMPORTANT DISCLAIMER - READ CAREFULLY</h3>
                    <p style="background: rgba(255,51,51,0.1); padding: 15px; border-left: 3px solid var(--red); margin: 15px 0;">
                        <strong>LIGHTNING LEDGERZ LLC PROVIDES FINANCIAL PLANNING AND ANALYSIS SERVICES ONLY. WE DO NOT PROVIDE FINANCIAL ADVICE, INVESTMENT ADVICE, TAX ADVICE, LEGAL ADVICE, OR ANY OTHER PROFESSIONAL ADVICE.</strong>
                    </p>
                    <p>All reports, analyses, models, dashboards, and other deliverables provided by Lightning Ledgerz LLC are for <strong>informational and planning purposes only</strong>. They are based on data and assumptions provided by you, the client, and should not be relied upon as the sole basis for any financial, business, investment, or operational decisions.</p>
                    <p><strong>You acknowledge and agree that:</strong></p>
                    <ul>
                        <li>You are solely responsible for verifying the accuracy of all data you provide to us</li>
                        <li>You should consult with qualified licensed professionals (CPAs, attorneys, financial advisors, etc.) before making any significant financial or business decisions</li>
                        <li>Our analyses are based on assumptions that may not reflect actual future outcomes</li>
                        <li>Past performance and projections do not guarantee future results</li>
                    </ul>

                    <h3>6. LIMITATION OF LIABILITY</h3>
                    <p style="background: rgba(255,51,51,0.1); padding: 15px; border-left: 3px solid var(--red); margin: 15px 0;">
                        <strong>LIGHTNING LEDGERZ LLC, ITS OWNERS, OFFICERS, EMPLOYEES, AND CONTRACTORS SHALL NOT BE HELD LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES</strong> arising from or related to:
                    </p>
                    <ul>
                        <li>Your use of or reliance on our services, reports, or deliverables</li>
                        <li>Any business decisions made based on our analyses or recommendations</li>
                        <li>Financial losses, missed opportunities, or adverse business outcomes</li>
                        <li>Errors in data you provided or assumptions you approved</li>
                        <li>Any third-party actions or market conditions</li>
                    </ul>
                    <p><strong>IN NO EVENT SHALL OUR TOTAL LIABILITY EXCEED THE AMOUNT YOU PAID FOR THE SPECIFIC SERVICE GIVING RISE TO THE CLAIM.</strong></p>

                    <h3>7. Indemnification</h3>
                    <p>You agree to indemnify, defend, and hold harmless Lightning Ledgerz LLC, its owners, officers, employees, and contractors from any claims, damages, losses, or expenses (including reasonable attorney fees) arising from your use of our services, your breach of these Terms, or your violation of any rights of a third party.</p>

                    <h3>8. Intellectual Property</h3>
                    <p>All content, features, methodologies, templates, and functionality of Lightning Ledgerz are owned by Lightning Ledgerz LLC and are protected by copyright and other intellectual property laws. Deliverables created for you are licensed for your internal business use only.</p>

                    <h3>9. Governing Law</h3>
                    <p>These Terms shall be governed by and construed in accordance with the laws of the State of Nevada, without regard to its conflict of law provisions. Any disputes shall be resolved in the courts of Nevada.</p>

                    <h3>10. Changes to Terms</h3>
                    <p>We reserve the right to modify these Terms at any time. Continued use of our services after changes constitutes acceptance of the modified Terms.</p>

                    <h3>11. Contact</h3>
                    <p>For questions about these Terms, contact us at: zprizant@lightningledgerz.com</p>

                    <p style="margin-top: 25px; color: rgba(255,255,255,0.5); font-size: 0.85rem;">Lightning Ledgerz LLC | Nevada, USA | Incorporated 2025<br>Last updated: February 2026</p>
                `
            },
            privacy: {
                title: 'Privacy Policy',
                body: `
                    <h3>1. Company Information</h3>
                    <p>This Privacy Policy describes how <strong>Lightning Ledgerz LLC</strong>, a Nevada limited liability company incorporated in 2025, collects, uses, and protects your personal and business information.</p>

                    <h3>2. Information We Collect</h3>
                    <p>We collect information you provide directly to us, including:</p>
                    <ul>
                        <li><strong>Account Information:</strong> Name, email address, company name, phone number</li>
                        <li><strong>Financial Data:</strong> Documents, spreadsheets, and files you upload for analysis</li>
                        <li><strong>Usage Data:</strong> How you interact with our platform and services</li>
                        <li><strong>Communication Data:</strong> Emails and messages exchanged with our team</li>
                    </ul>

                    <h3>3. How We Use Your Information</h3>
                    <p>We use the information we collect to:</p>
                    <ul>
                        <li>Provide, maintain, and improve our FP&A services</li>
                        <li>Create and deliver financial reports, analyses, and dashboards</li>
                        <li>Communicate with you about your account and our services</li>
                        <li>Ensure the security of your data and our platform</li>
                        <li>Comply with legal obligations</li>
                    </ul>

                    <h3>4. Data Security</h3>
                    <p>We implement industry-standard security measures to protect your data:</p>
                    <ul>
                        <li>All data is encrypted in transit (TLS/SSL) and at rest (AES-256)</li>
                        <li>Access to your files is strictly restricted to you and your assigned advisor</li>
                        <li>We use secure cloud infrastructure with regular security audits</li>
                        <li>Multi-factor authentication is available for enhanced account security</li>
                        <li>Regular backups ensure data integrity and availability</li>
                    </ul>

                    <h3>5. Data Sharing</h3>
                    <p><strong>We do NOT sell, rent, or share your personal or financial data with third parties</strong> for their marketing or commercial purposes. We may share data only:</p>
                    <ul>
                        <li>With your explicit written consent</li>
                        <li>To comply with legal obligations, court orders, or government requests</li>
                        <li>With service providers who assist in delivering our services (under strict confidentiality agreements and only as necessary)</li>
                        <li>To protect our rights, property, or safety, or that of our users</li>
                    </ul>

                    <h3>6. Confidentiality</h3>
                    <p>We treat all client financial data as strictly confidential. Our team members are bound by confidentiality agreements, and we maintain strict access controls to ensure your sensitive business information is protected.</p>

                    <h3>7. Data Retention</h3>
                    <p>Your uploaded files and reports are retained for your convenience and reference. You may request deletion of your data at any time by contacting us. Upon account termination, we will delete your data within 30 days unless retention is required by law.</p>

                    <h3>8. Your Rights</h3>
                    <p>You have the right to:</p>
                    <ul>
                        <li>Access the personal data we hold about you</li>
                        <li>Request correction of inaccurate data</li>
                        <li>Request deletion of your data ("right to be forgotten")</li>
                        <li>Export your data in a portable format</li>
                        <li>Withdraw consent for data processing</li>
                    </ul>

                    <h3>9. Cookies</h3>
                    <p>We use essential cookies to maintain your session and preferences. We do not use tracking cookies for advertising purposes or sell cookie data to third parties.</p>

                    <h3>10. Changes to Privacy Policy</h3>
                    <p>We may update this Privacy Policy periodically. We will notify you of significant changes via email or through our platform. Your continued use constitutes acceptance of the updated policy.</p>

                    <h3>11. Contact Us</h3>
                    <p>For privacy-related inquiries or to exercise your data rights, contact us at: zprizant@lightningledgerz.com</p>

                    <p style="margin-top: 25px; color: rgba(255,255,255,0.5); font-size: 0.85rem;">Lightning Ledgerz LLC | Nevada, USA | Incorporated 2025<br>Last updated: February 2026</p>
                `
            }
        };

        function openLegalModal(e, type) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            var modal = document.getElementById('legal-modal');
            var title = document.getElementById('legal-modal-title');
            var body = document.getElementById('legal-modal-body');

            if (legalContent[type]) {
                title.textContent = legalContent[type].title;
                body.innerHTML = legalContent[type].body;
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeLegalModal() {
            var modal = document.getElementById('legal-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close legal modal on backdrop click
        document.addEventListener('DOMContentLoaded', function() {
            var modal = document.getElementById('legal-modal');
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeLegalModal();
                    }
                });
            }
        });

        // ===========================================
        // ADMIN DASHBOARD
        // ===========================================
        function openAdminDashboard() {
            if (!currentUserData?.isAdmin) {
                showToast('Access denied', 'error');
                return;
            }
            var modal = document.getElementById('admin-modal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            loadAdminUsers();
        }

        function closeAdminDashboard() {
            var modal = document.getElementById('admin-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function switchAdminTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update tab panes
            document.querySelectorAll('.admin-tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });
            document.getElementById('admin-tab-' + tabName).classList.add('active');

            // Load data for the tab
            if (tabName === 'users') loadAdminUsers();
            if (tabName === 'reports') loadAdminReports();
            if (tabName === 'promo') loadAdminPromoCodes();
        }

        // Users Tab Functions
        async function loadAdminUsers() {
            var tbody = document.getElementById('admin-users-body');
            tbody.innerHTML = '<tr><td colspan="6" class="loading-row">Loading users...</td></tr>';

            if (!supabase) {
                tbody.innerHTML = '<tr><td colspan="6" class="loading-row">Database not available</td></tr>';
                return;
            }

            try {
                var { data, error } = await supabase
                    .from('profiles')
                    .select('*')
                    .order('created_at', { ascending: false });

                if (error) throw error;

                if (data && data.length > 0) {
                    tbody.innerHTML = data.map(user => `
                        <tr>
                            <td>${user.email || '-'}</td>
                            <td>${user.first_name || ''} ${user.last_name || ''}</td>
                            <td>${user.company || user.company_name || '-'}</td>
                            <td>
                                <select class="tier-select" onchange="updateUserTier('${user.id}', this.value)">
                                    <option value="basic" ${user.package_tier === 'basic' ? 'selected' : ''}>Basic</option>
                                    <option value="gold" ${user.package_tier === 'gold' ? 'selected' : ''}>Gold</option>
                                    <option value="diamond" ${user.package_tier === 'diamond' ? 'selected' : ''}>Diamond</option>
                                </select>
                            </td>
                            <td>${user.created_at ? new Date(user.created_at).toLocaleDateString() : '-'}</td>
                            <td>
                                <button class="btn-delete" onclick="toggleAdminStatus('${user.id}', ${!user.is_admin})">
                                    ${user.is_admin ? 'Remove Admin' : 'Make Admin'}
                                </button>
                            </td>
                        </tr>
                    `).join('');

                    // Also populate the reports user dropdown
                    var userSelect = document.getElementById('report-user-select');
                    userSelect.innerHTML = '<option value="">-- Select a user --</option>' +
                        data.map(user => `<option value="${user.id}">${user.email} (${user.first_name || 'No name'})</option>`).join('');
                } else {
                    tbody.innerHTML = '<tr><td colspan="6" class="loading-row">No users found</td></tr>';
                }
            } catch (error) {
                console.error('Error loading users:', error);
                tbody.innerHTML = '<tr><td colspan="6" class="loading-row">Error loading users</td></tr>';
            }
        }

        async function updateUserTier(userId, newTier) {
            if (!supabase) return;

            try {
                var { error } = await supabase
                    .from('profiles')
                    .update({ package_tier: newTier, updated_at: new Date().toISOString() })
                    .eq('id', userId);

                if (error) throw error;
                showToast('User tier updated to ' + newTier, 'success');
            } catch (error) {
                console.error('Error updating tier:', error);
                showToast('Error updating tier', 'error');
                loadAdminUsers(); // Refresh to show correct state
            }
        }

        async function toggleAdminStatus(userId, makeAdmin) {
            if (!supabase) return;

            if (!confirm(makeAdmin ? 'Make this user an admin?' : 'Remove admin status from this user?')) {
                return;
            }

            try {
                var { error } = await supabase
                    .from('profiles')
                    .update({ is_admin: makeAdmin, updated_at: new Date().toISOString() })
                    .eq('id', userId);

                if (error) throw error;
                showToast(makeAdmin ? 'User is now an admin' : 'Admin status removed', 'success');
                loadAdminUsers();
            } catch (error) {
                console.error('Error updating admin status:', error);
                showToast('Error updating admin status', 'error');
            }
        }

        // Reports Tab Functions
        async function loadAdminReports() {
            var tbody = document.getElementById('admin-reports-body');
            tbody.innerHTML = '<tr><td colspan="4" class="loading-row">Loading reports...</td></tr>';

            if (!supabase) {
                tbody.innerHTML = '<tr><td colspan="4" class="loading-row">Database not available</td></tr>';
                return;
            }

            try {
                var { data, error } = await supabase
                    .from('user_reports')
                    .select('*, profiles(email, first_name)')
                    .order('created_at', { ascending: false })
                    .limit(50);

                if (error) throw error;

                if (data && data.length > 0) {
                    tbody.innerHTML = data.map(report => `
                        <tr>
                            <td>${report.report_name || '-'}</td>
                            <td>${report.profiles?.email || 'Unknown'}</td>
                            <td>${report.created_at ? new Date(report.created_at).toLocaleDateString() : '-'}</td>
                            <td>
                                <button class="btn-delete" onclick="deleteReport('${report.id}')">Delete</button>
                            </td>
                        </tr>
                    `).join('');
                } else {
                    tbody.innerHTML = '<tr><td colspan="4" class="loading-row">No reports found</td></tr>';
                }
            } catch (error) {
                console.error('Error loading reports:', error);
                tbody.innerHTML = '<tr><td colspan="4" class="loading-row">Error loading reports</td></tr>';
            }
        }

        async function uploadUserReport() {
            var userId = document.getElementById('report-user-select').value;
            var reportName = document.getElementById('report-name').value.trim();
            var reportDesc = document.getElementById('report-description').value.trim();
            var fileInput = document.getElementById('report-file');
            var file = fileInput.files[0];

            if (!userId) {
                showToast('Please select a user', 'error');
                return;
            }
            if (!reportName) {
                showToast('Please enter a report name', 'error');
                return;
            }
            if (!file) {
                showToast('Please select a file', 'error');
                return;
            }
            if (!supabase) {
                showToast('Database not available', 'error');
                return;
            }

            try {
                showToast('Uploading report...', 'info');

                // Upload file to storage
                var filePath = `reports/${userId}/${Date.now()}_${file.name}`;
                var { data: uploadData, error: uploadError } = await supabase.storage
                    .from('user-documents')
                    .upload(filePath, file);

                if (uploadError) throw uploadError;

                // Get public URL
                var { data: urlData } = supabase.storage
                    .from('user-documents')
                    .getPublicUrl(filePath);

                // Insert report record
                var { error: insertError } = await supabase
                    .from('user_reports')
                    .insert([{
                        user_id: userId,
                        report_name: reportName,
                        report_description: reportDesc,
                        file_path: filePath,
                        file_url: urlData?.publicUrl || null,
                        file_size: file.size
                    }]);

                if (insertError) throw insertError;

                showToast('Report uploaded successfully!', 'success');

                // Clear form
                document.getElementById('report-user-select').value = '';
                document.getElementById('report-name').value = '';
                document.getElementById('report-description').value = '';
                fileInput.value = '';

                loadAdminReports();
            } catch (error) {
                console.error('Error uploading report:', error);
                showToast('Error uploading report: ' + error.message, 'error');
            }
        }

        async function deleteReport(reportId) {
            if (!confirm('Are you sure you want to delete this report?')) return;
            if (!supabase) return;

            try {
                var { error } = await supabase
                    .from('user_reports')
                    .delete()
                    .eq('id', reportId);

                if (error) throw error;
                showToast('Report deleted', 'success');
                loadAdminReports();
            } catch (error) {
                console.error('Error deleting report:', error);
                showToast('Error deleting report', 'error');
            }
        }

        // Promo Codes Tab Functions
        async function loadAdminPromoCodes() {
            var tbody = document.getElementById('admin-promo-body');
            tbody.innerHTML = '<tr><td colspan="5" class="loading-row">Loading promo codes...</td></tr>';

            if (!supabase) {
                tbody.innerHTML = '<tr><td colspan="5" class="loading-row">Database not available</td></tr>';
                return;
            }

            try {
                var { data, error } = await supabase
                    .from('promo_codes')
                    .select('*')
                    .order('created_at', { ascending: false });

                if (error) {
                    // Table might not exist yet
                    tbody.innerHTML = '<tr><td colspan="5" class="loading-row">Promo codes table not set up yet. Run the SQL migration.</td></tr>';
                    return;
                }

                if (data && data.length > 0) {
                    tbody.innerHTML = data.map(promo => `
                        <tr>
                            <td><strong>${promo.code}</strong></td>
                            <td>${promo.discount_percent}%</td>
                            <td>${promo.expiry_date ? new Date(promo.expiry_date).toLocaleDateString() : 'Never'}</td>
                            <td>${promo.current_uses || 0}${promo.max_uses ? '/' + promo.max_uses : ''}</td>
                            <td>
                                <button class="btn-delete" onclick="deletePromoCode('${promo.id}')">Delete</button>
                            </td>
                        </tr>
                    `).join('');
                } else {
                    tbody.innerHTML = '<tr><td colspan="5" class="loading-row">No promo codes found</td></tr>';
                }
            } catch (error) {
                console.error('Error loading promo codes:', error);
                tbody.innerHTML = '<tr><td colspan="5" class="loading-row">Error loading promo codes</td></tr>';
            }
        }

        async function createPromoCode() {
            var code = document.getElementById('promo-code').value.trim().toUpperCase();
            var discount = parseInt(document.getElementById('promo-discount').value);
            var expiry = document.getElementById('promo-expiry').value;
            var maxUses = document.getElementById('promo-max-uses').value;

            if (!code) {
                showToast('Please enter a promo code', 'error');
                return;
            }
            if (!discount || discount < 1 || discount > 100) {
                showToast('Please enter a valid discount (1-100%)', 'error');
                return;
            }
            if (!supabase) {
                showToast('Database not available', 'error');
                return;
            }

            try {
                var { error } = await supabase
                    .from('promo_codes')
                    .insert([{
                        code: code,
                        discount_percent: discount,
                        expiry_date: expiry || null,
                        max_uses: maxUses ? parseInt(maxUses) : null,
                        is_active: true
                    }]);

                if (error) {
                    if (error.code === '23505') {
                        showToast('This promo code already exists', 'error');
                    } else {
                        throw error;
                    }
                    return;
                }

                showToast('Promo code created!', 'success');

                // Clear form
                document.getElementById('promo-code').value = '';
                document.getElementById('promo-discount').value = '';
                document.getElementById('promo-expiry').value = '';
                document.getElementById('promo-max-uses').value = '';

                loadAdminPromoCodes();
            } catch (error) {
                console.error('Error creating promo code:', error);
                showToast('Error creating promo code: ' + error.message, 'error');
            }
        }

        async function deletePromoCode(promoId) {
            if (!confirm('Are you sure you want to delete this promo code?')) return;
            if (!supabase) return;

            try {
                var { error } = await supabase
                    .from('promo_codes')
                    .delete()
                    .eq('id', promoId);

                if (error) throw error;
                showToast('Promo code deleted', 'success');
                loadAdminPromoCodes();
            } catch (error) {
                console.error('Error deleting promo code:', error);
                showToast('Error deleting promo code', 'error');
            }
        }

        // Close admin modal on backdrop click
        document.addEventListener('DOMContentLoaded', function() {
            var adminModal = document.getElementById('admin-modal');
            if (adminModal) {
                adminModal.addEventListener('click', function(e) {
                    if (e.target === adminModal) {
                        closeAdminDashboard();
                    }
                });
            }
        });

        // ===========================================
        // TOAST
        // ===========================================
        function showToast(msg, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.className = 'toast ' + type + ' show';
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // ===========================================
        // PACKAGE CARD HIGHLIGHT
        // ===========================================
        function highlightPackageCard(cardId) {
            console.log('highlightPackageCard called with:', cardId);
            var card = document.getElementById(cardId);
            if (!card) {
                console.log('Card not found:', cardId);
                return;
            }
            console.log('Found card, applying highlight class');

            // Remove highlight from all cards first
            var allCards = document.querySelectorAll('.package-card');
            for (var i = 0; i < allCards.length; i++) {
                allCards[i].classList.remove('highlight');
            }

            // Scroll to the card
            card.scrollIntoView({ behavior: 'smooth', block: 'center' });

            // Apply highlight class (uses CSS with !important)
            card.classList.add('highlight');

            // Remove highlight after 8 seconds
            setTimeout(function() {
                card.classList.remove('highlight');
            }, 8000);
        }

        // ===========================================
        // INIT
        // ===========================================
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Supabase and show status
            const sbReady = initSupabase();
            console.log('DOMContentLoaded - Supabase ready:', sbReady);
            if (!sbReady) {
                console.error('SUPABASE NOT LOADED! Check if script is blocked by browser/firewall');
            }
            initFileUpload();

            // Add click AND touch support for hamburger menu
            const mobileToggle = document.getElementById('hamburger-btn');
            if (mobileToggle) {
                mobileToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleMobileMenu(e);
                });
                mobileToggle.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleMobileMenu(e);
                }, { passive: false });
            }

            // Add touch support for lightbox (portfolio items)
            document.querySelectorAll('.portfolio-item').forEach(item => {
                item.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    const img = this.querySelector('img');
                    if (img) openLightbox(e, img.src);
                }, { passive: false });
            });

            // Add touch support for lightbox close
            const lightbox = document.getElementById('lightbox');
            if (lightbox) {
                lightbox.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    closeLightbox();
                }, { passive: false });
            }

            // Add touch support for "Start Free Trial" buttons in package cards
            document.querySelectorAll('.package-card .btn-primary').forEach(btn => {
                btn.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    // Trigger click to call selectPlan
                    this.click();
                }, { passive: false });
            });

            // Add click/touch support for portal tabs
            const portalTabs = document.querySelectorAll('.portal-tab');
            portalTabs.forEach((tab, index) => {
                tab.addEventListener('click', function(e) {
                    e.preventDefault();
                    switchTab(index === 0 ? 'login' : 'register');
                });
                tab.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    switchTab(index === 0 ? 'login' : 'register');
                }, { passive: false });
            });
        });

        // Close lightbox on Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeLightbox();
        });

        // ===========================================
        // WORK PRODUCT MODAL
        // ===========================================
        function openWorkModal(imageSrc) {
            var modal = document.getElementById('work-modal');
            var modalImg = document.getElementById('work-modal-img');
            modalImg.src = imageSrc;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeWorkModal() {
            var modal = document.getElementById('work-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal on click outside image
        document.addEventListener('DOMContentLoaded', function() {
            var modal = document.getElementById('work-modal');
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeWorkModal();
                    }
                });
            }
        });

        // Close modal on Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeWorkModal();
        });

        // ===========================================
        // DRAG TO SCROLL CAROUSEL
        // ===========================================
        document.addEventListener('DOMContentLoaded', function() {
            const carousel = document.getElementById('work-carousel-container');
            if (!carousel) return;

            let isDown = false;
            let startX;
            let scrollLeft;

            carousel.addEventListener('mousedown', (e) => {
                isDown = true;
                carousel.style.cursor = 'grabbing';
                startX = e.pageX - carousel.offsetLeft;
                scrollLeft = carousel.scrollLeft;
            });

            carousel.addEventListener('mouseleave', () => {
                isDown = false;
                carousel.style.cursor = 'grab';
            });

            carousel.addEventListener('mouseup', () => {
                isDown = false;
                carousel.style.cursor = 'grab';
            });

            carousel.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - carousel.offsetLeft;
                const walk = (x - startX) * 2;
                carousel.scrollLeft = scrollLeft - walk;
            });

            // Set initial cursor
            carousel.style.cursor = 'grab';
        });
    </script>

    <!-- Work Product Modal -->
    <div id="work-modal" class="work-modal" onclick="closeWorkModal()">
        <span class="work-modal-close" onclick="closeWorkModal()">&times;</span>
        <img id="work-modal-img" src="" alt="Work Product">
    </div>
</body>
</html>
